1
00:00:02,430 --> 00:00:04,960
[Music]

2
00:00:04,960 --> 00:00:06,480
my name is doug sheehan i'm one of the

3
00:00:06,480 --> 00:00:08,480
lead gameplay programmers at insomniac

4
00:00:08,480 --> 00:00:09,040
games

5
00:00:09,040 --> 00:00:10,480
and we're here to talk about building

6
00:00:10,480 --> 00:00:12,639
traversal in marvel spider-man

7
00:00:12,639 --> 00:00:16,000
so let's just jump right in so in the

8
00:00:16,000 --> 00:00:17,440
fall of 2014

9
00:00:17,440 --> 00:00:19,520
uh i found out insomniac games was

10
00:00:19,520 --> 00:00:21,199
making a spider-man game and that i was

11
00:00:21,199 --> 00:00:22,640
going to be assigned to bring his

12
00:00:22,640 --> 00:00:23,920
traversal to life

13
00:00:23,920 --> 00:00:24,880
this was not only going to be the

14
00:00:24,880 --> 00:00:27,119
biggest game in insomniac's history but

15
00:00:27,119 --> 00:00:29,199
it was also using a legendary ip that

16
00:00:29,199 --> 00:00:29,519
had

17
00:00:29,519 --> 00:00:31,840
really heavily infested and rabbit hand

18
00:00:31,840 --> 00:00:32,640
fan base

19
00:00:32,640 --> 00:00:34,559
and it had an unrivaled expectation of

20
00:00:34,559 --> 00:00:36,559
quality for anything that we'd ever made

21
00:00:36,559 --> 00:00:38,320
and as someone that as a poor college

22
00:00:38,320 --> 00:00:39,840
student holed up in bookstores and read

23
00:00:39,840 --> 00:00:40,960
spider-man comics

24
00:00:40,960 --> 00:00:43,360
the idea of making spider-man swing was

25
00:00:43,360 --> 00:00:44,320
super exciting

26
00:00:44,320 --> 00:00:46,239
and also at the same time completely and

27
00:00:46,239 --> 00:00:48,160
utterly terrifying

28
00:00:48,160 --> 00:00:49,760
fortunately we had the game's vision

29
00:00:49,760 --> 00:00:51,440
statement as a starting point which was

30
00:00:51,440 --> 00:00:53,760
play like a superhero movie feels

31
00:00:53,760 --> 00:00:55,440
so we kind of set up on our journey too

32
00:00:55,440 --> 00:00:57,199
as the saying goes make you feel like

33
00:00:57,199 --> 00:00:59,199
spider-man

34
00:00:59,199 --> 00:01:00,800
so what does plane like a superhero

35
00:01:00,800 --> 00:01:03,039
movie feels even mean for traversal

36
00:01:03,039 --> 00:01:04,799
well with swinging as our starting point

37
00:01:04,799 --> 00:01:06,880
we decided on a few core beliefs

38
00:01:06,880 --> 00:01:08,080
that would kind of guide the features

39
00:01:08,080 --> 00:01:10,240
development so the first thing we

40
00:01:10,240 --> 00:01:11,520
acknowledged was that we wanted to

41
00:01:11,520 --> 00:01:12,960
target a pretty broad audience

42
00:01:12,960 --> 00:01:14,799
spider-man has a really big worldwide

43
00:01:14,799 --> 00:01:16,400
following and we wanted as many people

44
00:01:16,400 --> 00:01:18,159
as possible to be able to play and enjoy

45
00:01:18,159 --> 00:01:19,119
the game

46
00:01:19,119 --> 00:01:20,720
however we knew that we had the issue

47
00:01:20,720 --> 00:01:22,640
that most gamers don't really have any

48
00:01:22,640 --> 00:01:24,240
muscle memory for swinging

49
00:01:24,240 --> 00:01:25,920
unlike say a third person shooter or a

50
00:01:25,920 --> 00:01:27,360
first person shooter most folks don't

51
00:01:27,360 --> 00:01:28,799
have any brain map for how to make

52
00:01:28,799 --> 00:01:30,479
swinging go and function

53
00:01:30,479 --> 00:01:32,159
so to add to the challenge we start the

54
00:01:32,159 --> 00:01:33,840
game out by chucking you out a window

55
00:01:33,840 --> 00:01:35,280
giving you the control and saying all

56
00:01:35,280 --> 00:01:36,479
right swing time

57
00:01:36,479 --> 00:01:39,439
go so wanting that first moment to feel

58
00:01:39,439 --> 00:01:40,799
just right we knew we had to get the

59
00:01:40,799 --> 00:01:42,399
controls to a point where they were easy

60
00:01:42,399 --> 00:01:42,960
to learn

61
00:01:42,960 --> 00:01:46,000
but hard to master next we wanted

62
00:01:46,000 --> 00:01:47,840
traversal and swinging in particular to

63
00:01:47,840 --> 00:01:49,119
be rooted in physics

64
00:01:49,119 --> 00:01:50,799
this was really vital to give players a

65
00:01:50,799 --> 00:01:52,960
sense of believability that feeling that

66
00:01:52,960 --> 00:01:54,479
they could actually swing through new

67
00:01:54,479 --> 00:01:56,000
york as a superhero that that was really

68
00:01:56,000 --> 00:01:58,079
going to be possible for them

69
00:01:58,079 --> 00:01:59,840
and following that swing lines just had

70
00:01:59,840 --> 00:02:01,439
to attach to in-world geometry no

71
00:02:01,439 --> 00:02:02,240
questions asked

72
00:02:02,240 --> 00:02:03,840
this was extremely important in order to

73
00:02:03,840 --> 00:02:05,600
ground the simulation correctly

74
00:02:05,600 --> 00:02:07,280
but also we were mostly terrified that a

75
00:02:07,280 --> 00:02:08,560
bunch of angry fans would tell us that

76
00:02:08,560 --> 00:02:09,840
we were ruining their childhood if we

77
00:02:09,840 --> 00:02:12,319
didn't do it

78
00:02:12,400 --> 00:02:14,239
so finally we wanted to have a dynamic

79
00:02:14,239 --> 00:02:16,000
camera the look and feel of swinging

80
00:02:16,000 --> 00:02:16,959
needed to be fluid

81
00:02:16,959 --> 00:02:19,360
fast exciting and especially cinematic

82
00:02:19,360 --> 00:02:21,280
we needed a camera that helped translate

83
00:02:21,280 --> 00:02:23,040
all that high-flying acrobatics

84
00:02:23,040 --> 00:02:24,640
and velocity into a really visceral

85
00:02:24,640 --> 00:02:26,080
experience for the player something that

86
00:02:26,080 --> 00:02:28,400
they could just feel in their gut

87
00:02:28,400 --> 00:02:30,239
so today i'm going to show you kind of

88
00:02:30,239 --> 00:02:31,840
how we achieve those core principles by

89
00:02:31,840 --> 00:02:33,200
taking you through the process by which

90
00:02:33,200 --> 00:02:35,120
we created traversal

91
00:02:35,120 --> 00:02:36,720
the biggest key to our success is

92
00:02:36,720 --> 00:02:38,480
iteration for a lot of the elements i'll

93
00:02:38,480 --> 00:02:38,959
show you

94
00:02:38,959 --> 00:02:40,239
not just what we ended up actually

95
00:02:40,239 --> 00:02:41,920
shipping but where we started where we

96
00:02:41,920 --> 00:02:43,440
failed what we learned and how we got

97
00:02:43,440 --> 00:02:44,640
better

98
00:02:44,640 --> 00:02:46,640
and so however knowing when you needed

99
00:02:46,640 --> 00:02:48,319
to improve isn't necessarily always

100
00:02:48,319 --> 00:02:49,040
obvious to you

101
00:02:49,040 --> 00:02:50,480
it came from a steady diet of play

102
00:02:50,480 --> 00:02:52,000
testing and learning how players

103
00:02:52,000 --> 00:02:53,440
interacted with the game and where it

104
00:02:53,440 --> 00:02:55,040
was failing them

105
00:02:55,040 --> 00:02:56,160
this meant we had to stay really

106
00:02:56,160 --> 00:02:57,920
flexible in our execution and always

107
00:02:57,920 --> 00:03:00,480
looking to be greater

108
00:03:00,480 --> 00:03:02,480
so before we can actually swing we have

109
00:03:02,480 --> 00:03:04,080
to have something to attach to

110
00:03:04,080 --> 00:03:05,840
so as stated we wanted swinging to be

111
00:03:05,840 --> 00:03:07,360
accessible and this meant that we needed

112
00:03:07,360 --> 00:03:09,280
to think a bit about attach points from

113
00:03:09,280 --> 00:03:10,720
the player's perspective

114
00:03:10,720 --> 00:03:12,159
namely what is the player actually going

115
00:03:12,159 --> 00:03:14,239
to be responsible for when it comes to

116
00:03:14,239 --> 00:03:15,599
picking an attach point and what is the

117
00:03:15,599 --> 00:03:17,200
system going to be responsible for

118
00:03:17,200 --> 00:03:19,440
and doing to help them so we first

119
00:03:19,440 --> 00:03:20,879
decided that we wanted players really

120
00:03:20,879 --> 00:03:21,840
just thinking about

121
00:03:21,840 --> 00:03:23,680
where they wanted to go rather than

122
00:03:23,680 --> 00:03:25,120
where they were attaching

123
00:03:25,120 --> 00:03:26,799
this removed a pretty significant burden

124
00:03:26,799 --> 00:03:28,239
from the player and let them focus on

125
00:03:28,239 --> 00:03:29,920
additional layers of gameplay

126
00:03:29,920 --> 00:03:31,760
like chasing cars dodging bullets

127
00:03:31,760 --> 00:03:33,920
rockets and the occasional pigeon

128
00:03:33,920 --> 00:03:35,120
the player would communicate their

129
00:03:35,120 --> 00:03:36,640
directional intent with the with the

130
00:03:36,640 --> 00:03:38,239
analog stick and then the system would

131
00:03:38,239 --> 00:03:40,239
take it from there

132
00:03:40,239 --> 00:03:42,080
so our first attempt at finding attach

133
00:03:42,080 --> 00:03:44,000
points was to comb the environment using

134
00:03:44,000 --> 00:03:45,440
an array of raycasts

135
00:03:45,440 --> 00:03:46,720
this was designed to minimize the

136
00:03:46,720 --> 00:03:48,000
required effort from design and

137
00:03:48,000 --> 00:03:49,680
environment and to ensure that we were

138
00:03:49,680 --> 00:03:51,519
actually attaching the geometry

139
00:03:51,519 --> 00:03:53,360
but this presented a number of problems

140
00:03:53,360 --> 00:03:54,799
that we just couldn't overcome at the

141
00:03:54,799 --> 00:03:56,080
end of the day

142
00:03:56,080 --> 00:03:57,920
the biggest issue is that raycasts

143
00:03:57,920 --> 00:03:59,760
simply didn't provide enough resolution

144
00:03:59,760 --> 00:04:00,080
for

145
00:04:00,080 --> 00:04:01,920
us our line lengths would often exceed

146
00:04:01,920 --> 00:04:03,840
50 meters and even with a respectable

147
00:04:03,840 --> 00:04:05,439
density of raycast we were getting these

148
00:04:05,439 --> 00:04:07,680
20 meter gaps at full range

149
00:04:07,680 --> 00:04:09,280
this was enough to not only miss small

150
00:04:09,280 --> 00:04:10,640
objects that we wanted to swing from

151
00:04:10,640 --> 00:04:12,560
like flagpoles and radio towers

152
00:04:12,560 --> 00:04:14,239
but it would completely miss large

153
00:04:14,239 --> 00:04:16,160
sections of buildings entirely

154
00:04:16,160 --> 00:04:17,519
specifically an additional issue we

155
00:04:17,519 --> 00:04:19,358
recognized is that corners were often

156
00:04:19,358 --> 00:04:20,880
the optimal swing points

157
00:04:20,880 --> 00:04:22,639
and raycasts were just really bad at

158
00:04:22,639 --> 00:04:24,080
finding those positions because of the

159
00:04:24,080 --> 00:04:25,680
resolution problem

160
00:04:25,680 --> 00:04:27,120
so a more obvious problem is that

161
00:04:27,120 --> 00:04:28,240
raycasts can't hit things that don't

162
00:04:28,240 --> 00:04:29,520
have collision

163
00:04:29,520 --> 00:04:30,960
this was particularly problematic with

164
00:04:30,960 --> 00:04:32,560
trees in areas like central park

165
00:04:32,560 --> 00:04:34,160
and even if those objects did have a

166
00:04:34,160 --> 00:04:35,520
little bit of collision for the trunk or

167
00:04:35,520 --> 00:04:36,800
something like that

168
00:04:36,800 --> 00:04:37,680
we still weren't going to be able to

169
00:04:37,680 --> 00:04:38,880
find them because of the resolution

170
00:04:38,880 --> 00:04:40,320
issue

171
00:04:40,320 --> 00:04:42,080
and finally as we'll talk about later a

172
00:04:42,080 --> 00:04:43,680
lot of points require some additional

173
00:04:43,680 --> 00:04:46,479
fix up after you find that initial point

174
00:04:46,479 --> 00:04:47,919
doing these adjustments by collision

175
00:04:47,919 --> 00:04:50,080
checks could prove really costly and

176
00:04:50,080 --> 00:04:52,000
a performance hit when processing dozens

177
00:04:52,000 --> 00:04:53,440
of potential attach points

178
00:04:53,440 --> 00:04:55,120
and they still might not really be what

179
00:04:55,120 --> 00:04:56,720
we want

180
00:04:56,720 --> 00:04:58,240
so with those raycasts coming up short

181
00:04:58,240 --> 00:05:00,160
we moved on we decided to use a markup

182
00:05:00,160 --> 00:05:01,199
based approach

183
00:05:01,199 --> 00:05:03,039
by wrapping our buildings in box volumes

184
00:05:03,039 --> 00:05:04,240
that approximate the shape of the

185
00:05:04,240 --> 00:05:04,960
building

186
00:05:04,960 --> 00:05:06,479
we could find those nearby volumes

187
00:05:06,479 --> 00:05:08,479
process them on a face-by-face basis

188
00:05:08,479 --> 00:05:10,479
and then only then perform a final

189
00:05:10,479 --> 00:05:12,240
raycast on that point to get their true

190
00:05:12,240 --> 00:05:14,800
attach point on the geometry

191
00:05:14,800 --> 00:05:16,960
but moving to moving to market provided

192
00:05:16,960 --> 00:05:18,080
a number of advantages

193
00:05:18,080 --> 00:05:20,560
that were absent when using raycasts

194
00:05:20,560 --> 00:05:22,639
first point collection was really fast

195
00:05:22,639 --> 00:05:24,320
by using kind of a cache friendly sphere

196
00:05:24,320 --> 00:05:26,639
database uh that was just our data it

197
00:05:26,639 --> 00:05:28,240
significantly helped with scalability in

198
00:05:28,240 --> 00:05:29,280
terms of being able to have a lot of

199
00:05:29,280 --> 00:05:30,479
markup out in the world and be able to

200
00:05:30,479 --> 00:05:31,919
process it quickly

201
00:05:31,919 --> 00:05:33,280
by using the shape information we

202
00:05:33,280 --> 00:05:35,120
effectively now had infinite resolution

203
00:05:35,120 --> 00:05:36,560
for point placement on each face of the

204
00:05:36,560 --> 00:05:37,199
volume

205
00:05:37,199 --> 00:05:38,960
this allowed us to easily find edges and

206
00:05:38,960 --> 00:05:40,560
corners and never have to worry about

207
00:05:40,560 --> 00:05:42,639
missing smaller objects

208
00:05:42,639 --> 00:05:44,479
and finally by using markup we were able

209
00:05:44,479 --> 00:05:46,000
to afford designers a lot of additional

210
00:05:46,000 --> 00:05:48,080
control over various gameplay aspects

211
00:05:48,080 --> 00:05:49,520
like custom swing parameters and where

212
00:05:49,520 --> 00:05:52,560
you could and couldn't swing so the main

213
00:05:52,560 --> 00:05:54,320
drawback with markup was placement

214
00:05:54,320 --> 00:05:56,479
scalability we had a huge world full of

215
00:05:56,479 --> 00:05:57,520
things that were going to require the

216
00:05:57,520 --> 00:05:59,520
markup and placing all of this by hand

217
00:05:59,520 --> 00:06:00,960
and maintaining it through production as

218
00:06:00,960 --> 00:06:02,800
environment was constantly changing

219
00:06:02,800 --> 00:06:04,240
was going to be an enormous amount of

220
00:06:04,240 --> 00:06:06,319
upkeep and potential bugs so our

221
00:06:06,319 --> 00:06:07,759
solution to that involved a couple of

222
00:06:07,759 --> 00:06:09,360
primary tools

223
00:06:09,360 --> 00:06:10,880
first we had to handle the buildings

224
00:06:10,880 --> 00:06:12,240
fortunately we were using a system

225
00:06:12,240 --> 00:06:13,280
called houdini

226
00:06:13,280 --> 00:06:15,520
to help us generate the geometry for our

227
00:06:15,520 --> 00:06:17,360
environment out of building blocks

228
00:06:17,360 --> 00:06:18,880
this software could also then be

229
00:06:18,880 --> 00:06:20,720
leveraged to analyze that geometry and

230
00:06:20,720 --> 00:06:22,479
procedurally place volumes

231
00:06:22,479 --> 00:06:25,600
to approximate our building shapes for

232
00:06:25,600 --> 00:06:27,280
objects outside of houdini's operation

233
00:06:27,280 --> 00:06:29,440
we deployed our engine's prefab system

234
00:06:29,440 --> 00:06:31,039
this bundled up markup with all of those

235
00:06:31,039 --> 00:06:32,639
objects that we place and every time an

236
00:06:32,639 --> 00:06:33,759
instance was put down it would just

237
00:06:33,759 --> 00:06:35,280
bring the markup in with it so we didn't

238
00:06:35,280 --> 00:06:37,199
have to worry about it

239
00:06:37,199 --> 00:06:38,720
so with our markup now populating the

240
00:06:38,720 --> 00:06:40,400
world we needed to actually do something

241
00:06:40,400 --> 00:06:41,759
kind of useful for it rather than just

242
00:06:41,759 --> 00:06:42,800
stare at it

243
00:06:42,800 --> 00:06:44,560
and at any point the immediate area can

244
00:06:44,560 --> 00:06:46,080
be filled with just hundreds of volumes

245
00:06:46,080 --> 00:06:47,680
that are all potential swing points and

246
00:06:47,680 --> 00:06:49,120
we needed to filter through all that to

247
00:06:49,120 --> 00:06:50,800
find the best one

248
00:06:50,800 --> 00:06:52,319
so in order to pick that final attach

249
00:06:52,319 --> 00:06:53,919
point uh we need to start with a

250
00:06:53,919 --> 00:06:55,520
reasonable reference point as our ideal

251
00:06:55,520 --> 00:06:56,639
position

252
00:06:56,639 --> 00:06:58,319
here we kind of have a top-down view of

253
00:06:58,319 --> 00:07:00,080
our hero surrounded by buildings

254
00:07:00,080 --> 00:07:01,440
and the player influence over point

255
00:07:01,440 --> 00:07:02,800
selection comes from the input on the

256
00:07:02,800 --> 00:07:03,680
left stick

257
00:07:03,680 --> 00:07:05,120
and as stated before we want the player

258
00:07:05,120 --> 00:07:06,560
thinking only about where they're going

259
00:07:06,560 --> 00:07:08,160
not specifically where they're attaching

260
00:07:08,160 --> 00:07:09,520
so the input direction really just kind

261
00:07:09,520 --> 00:07:11,759
of provides a starting point

262
00:07:11,759 --> 00:07:13,199
from that input direction we can then

263
00:07:13,199 --> 00:07:15,120
apply an ideal slope and a line length

264
00:07:15,120 --> 00:07:16,639
to transform the input direction into a

265
00:07:16,639 --> 00:07:17,919
position that represents kind of our

266
00:07:17,919 --> 00:07:19,440
ideal attach point where we would want

267
00:07:19,440 --> 00:07:20,639
to go if we had

268
00:07:20,639 --> 00:07:23,120
you know infinite attach points all over

269
00:07:23,120 --> 00:07:24,880
and moving back to a top-down view

270
00:07:24,880 --> 00:07:26,800
we can then use that position to

271
00:07:26,800 --> 00:07:28,960
generate two more points on each face

272
00:07:28,960 --> 00:07:30,000
the first one is the point that's

273
00:07:30,000 --> 00:07:31,919
closest to a reference point and the

274
00:07:31,919 --> 00:07:34,160
next is a raycast point along our ideal

275
00:07:34,160 --> 00:07:35,599
line direction which is then just

276
00:07:35,599 --> 00:07:36,400
clamped to the

277
00:07:36,400 --> 00:07:39,680
volume bounds so we can then

278
00:07:39,680 --> 00:07:41,520
blend between those two points to get

279
00:07:41,520 --> 00:07:43,440
our output point for any situation

280
00:07:43,440 --> 00:07:45,199
the closest point is most useful when

281
00:07:45,199 --> 00:07:47,120
you want to swing along the face and

282
00:07:47,120 --> 00:07:48,560
swing parallel to it

283
00:07:48,560 --> 00:07:49,759
while the right cast point is most

284
00:07:49,759 --> 00:07:51,280
useful when you're swinging directly at

285
00:07:51,280 --> 00:07:52,560
the object

286
00:07:52,560 --> 00:07:53,599
and then we can just kind of blend

287
00:07:53,599 --> 00:07:55,280
between those based on what your input

288
00:07:55,280 --> 00:07:56,800
is relative to the face normal to get

289
00:07:56,800 --> 00:07:59,039
one that's most appropriate

290
00:07:59,039 --> 00:08:00,960
so now that we have a point we need to

291
00:08:00,960 --> 00:08:02,319
refine it a little bit in order to make

292
00:08:02,319 --> 00:08:03,759
it more effective

293
00:08:03,759 --> 00:08:05,360
our blended point can change the slope

294
00:08:05,360 --> 00:08:06,960
and the line length a lot which can lead

295
00:08:06,960 --> 00:08:08,879
to really long flat lines short and

296
00:08:08,879 --> 00:08:09,840
steep lines

297
00:08:09,840 --> 00:08:12,160
and everything kind of in between so we

298
00:08:12,160 --> 00:08:13,440
really wanted to try and give the player

299
00:08:13,440 --> 00:08:15,120
a more kind of consistent rhythm with

300
00:08:15,120 --> 00:08:15,919
swinging

301
00:08:15,919 --> 00:08:17,599
and that meant that we needed to try and

302
00:08:17,599 --> 00:08:19,039
keep those lines as consistent as

303
00:08:19,039 --> 00:08:19,759
possible

304
00:08:19,759 --> 00:08:21,039
so we wanted to move things around a

305
00:08:21,039 --> 00:08:23,440
little bit to get closer to the ideal

306
00:08:23,440 --> 00:08:25,599
so this is an example of shifting the

307
00:08:25,599 --> 00:08:27,280
attach point up just a little bit in

308
00:08:27,280 --> 00:08:29,120
order to get closer to that ideal slope

309
00:08:29,120 --> 00:08:30,240
which had gotten kind of overly

310
00:08:30,240 --> 00:08:31,360
flattened by the closest point

311
00:08:31,360 --> 00:08:32,479
calculation

312
00:08:32,479 --> 00:08:34,320
by moving more towards this ideal slope

313
00:08:34,320 --> 00:08:35,599
you can see that we prevent the player

314
00:08:35,599 --> 00:08:36,799
from having quite so much

315
00:08:36,799 --> 00:08:38,880
an excessive drop during the swing which

316
00:08:38,880 --> 00:08:40,320
will then make it more consistent as

317
00:08:40,320 --> 00:08:41,599
they go swing to swing and more

318
00:08:41,599 --> 00:08:43,519
predictable

319
00:08:43,519 --> 00:08:45,360
so now that we've generated this field

320
00:08:45,360 --> 00:08:46,800
of points across a whole bunch of markup

321
00:08:46,800 --> 00:08:47,279
faces

322
00:08:47,279 --> 00:08:49,279
and we need to actually decide which one

323
00:08:49,279 --> 00:08:50,959
is going to be our swing point for this

324
00:08:50,959 --> 00:08:51,760
frame

325
00:08:51,760 --> 00:08:53,440
so we do this by scoring each of the

326
00:08:53,440 --> 00:08:55,200
points and taking the best one

327
00:08:55,200 --> 00:08:57,120
our scoring algorithm is then geared to

328
00:08:57,120 --> 00:08:58,800
fulfill that desire of translating that

329
00:08:58,800 --> 00:09:00,720
stick input to a point that moves us in

330
00:09:00,720 --> 00:09:02,640
the desired direction

331
00:09:02,640 --> 00:09:04,320
so our first scoring element is how the

332
00:09:04,320 --> 00:09:05,920
face normal relates to input direction

333
00:09:05,920 --> 00:09:07,360
as i said you're trying to swing

334
00:09:07,360 --> 00:09:09,760
parallel uh to the faces where possible

335
00:09:09,760 --> 00:09:10,720
in this case

336
00:09:10,720 --> 00:09:12,399
and so the input direction means that

337
00:09:12,399 --> 00:09:13,519
the player will be able to swing along

338
00:09:13,519 --> 00:09:14,560
that surface in the direction they

339
00:09:14,560 --> 00:09:16,240
desire

340
00:09:16,240 --> 00:09:18,000
now because corners provide the player

341
00:09:18,000 --> 00:09:19,920
the most control we do try and snap

342
00:09:19,920 --> 00:09:22,320
points uh two edges when they're nearby

343
00:09:22,320 --> 00:09:23,839
so we can then use the best normal

344
00:09:23,839 --> 00:09:25,360
available on that entire sweep of the

345
00:09:25,360 --> 00:09:26,000
corner

346
00:09:26,000 --> 00:09:27,600
to compare against input for our score

347
00:09:27,600 --> 00:09:29,760
calculation we can also give corners a

348
00:09:29,760 --> 00:09:31,440
bonus when we're trying to turn if that

349
00:09:31,440 --> 00:09:32,480
corner is going to help us

350
00:09:32,480 --> 00:09:35,519
make that turn but taking input into

351
00:09:35,519 --> 00:09:36,320
account

352
00:09:36,320 --> 00:09:37,360
we start with the angle between the

353
00:09:37,360 --> 00:09:38,720
input direction and the direction of the

354
00:09:38,720 --> 00:09:39,920
attach point and then we score that

355
00:09:39,920 --> 00:09:41,040
delta

356
00:09:41,040 --> 00:09:42,800
and for range we're looking for points

357
00:09:42,800 --> 00:09:44,240
that match kind of our ideal length and

358
00:09:44,240 --> 00:09:45,760
then it just falls off in either

359
00:09:45,760 --> 00:09:47,920
direction as we deviate from that

360
00:09:47,920 --> 00:09:49,600
and we apply a similar falloff method

361
00:09:49,600 --> 00:09:51,360
for slope as the angle moves away from

362
00:09:51,360 --> 00:09:52,320
our ideal

363
00:09:52,320 --> 00:09:53,920
and once we have all that together we

364
00:09:53,920 --> 00:09:56,160
can do a weighted sum

365
00:09:56,160 --> 00:09:59,519
and the highest score is going to win

366
00:10:01,279 --> 00:10:02,480
so here you can see it all coming

367
00:10:02,480 --> 00:10:04,720
together in game the blue boxes

368
00:10:04,720 --> 00:10:06,720
are our market volumes and you can see a

369
00:10:06,720 --> 00:10:08,240
little bit of debug info about each

370
00:10:08,240 --> 00:10:09,920
point score floating above it

371
00:10:09,920 --> 00:10:11,839
that kind of helps us figure out when we

372
00:10:11,839 --> 00:10:13,279
try to debug

373
00:10:13,279 --> 00:10:14,720
why one point is better than another

374
00:10:14,720 --> 00:10:15,920
point particularly if we didn't want

375
00:10:15,920 --> 00:10:17,279
that to be the case we can go

376
00:10:17,279 --> 00:10:19,360
adjust those weighting values in order

377
00:10:19,360 --> 00:10:20,560
to

378
00:10:20,560 --> 00:10:21,839
tune swinging to make it so that we're

379
00:10:21,839 --> 00:10:24,640
continuing to get the expected point

380
00:10:24,640 --> 00:10:27,839
so now that we have our attach point we

381
00:10:27,839 --> 00:10:29,360
can talk about what happens

382
00:10:29,360 --> 00:10:31,680
when you're actually on the line so as

383
00:10:31,680 --> 00:10:33,200
stated we wanted to have a physics-based

384
00:10:33,200 --> 00:10:35,120
system that we modify the results of so

385
00:10:35,120 --> 00:10:36,160
we're going to start with the physics

386
00:10:36,160 --> 00:10:37,279
and then proceed to kind of mess with

387
00:10:37,279 --> 00:10:39,360
the universe a little bit

388
00:10:39,360 --> 00:10:41,279
so the two basic forces involved in the

389
00:10:41,279 --> 00:10:43,440
pendulum are gravity and tension

390
00:10:43,440 --> 00:10:45,279
as you can see here the tension is a

391
00:10:45,279 --> 00:10:46,800
factor of line length angle

392
00:10:46,800 --> 00:10:48,399
and gravity all in the direction of the

393
00:10:48,399 --> 00:10:50,160
line and it's kind of responsible for

394
00:10:50,160 --> 00:10:51,600
pulling that bob of the pendulum in a

395
00:10:51,600 --> 00:10:53,519
circle around the center of the system

396
00:10:53,519 --> 00:10:55,519
we also break gravity up into its two

397
00:10:55,519 --> 00:10:57,200
component vectors here one parallel to

398
00:10:57,200 --> 00:10:58,959
the line and one perpendicular

399
00:10:58,959 --> 00:11:01,120
the perpendicular portion represents

400
00:11:01,120 --> 00:11:02,399
that kind of restoring force it's a

401
00:11:02,399 --> 00:11:03,839
thing that makes the pendulum oscillate

402
00:11:03,839 --> 00:11:05,040
back and forth

403
00:11:05,040 --> 00:11:06,959
and the parallel portion is what's left

404
00:11:06,959 --> 00:11:08,240
and you'll see in our calculations we

405
00:11:08,240 --> 00:11:09,760
can actually cancel that out with part

406
00:11:09,760 --> 00:11:11,360
of tension to simplify the math a little

407
00:11:11,360 --> 00:11:12,320
bit

408
00:11:12,320 --> 00:11:13,680
which we do here so when actually

409
00:11:13,680 --> 00:11:15,680
calculating this encode we internally

410
00:11:15,680 --> 00:11:17,120
just set the mass to one since we're not

411
00:11:17,120 --> 00:11:18,240
really dealing with a variable mass

412
00:11:18,240 --> 00:11:19,680
system and we can tune gravity how we

413
00:11:19,680 --> 00:11:20,720
want to

414
00:11:20,720 --> 00:11:22,640
and after a bit of simplification we

415
00:11:22,640 --> 00:11:24,399
apply the remaining forces of tension

416
00:11:24,399 --> 00:11:25,760
and perpendicular gravity to our

417
00:11:25,760 --> 00:11:28,000
velocity also just for a little bit more

418
00:11:28,000 --> 00:11:29,600
accuracy we do four iterations each

419
00:11:29,600 --> 00:11:31,200
frame to run the entire thing at about

420
00:11:31,200 --> 00:11:33,440
120 hertz

421
00:11:33,440 --> 00:11:35,040
so when we're talking about how we

422
00:11:35,040 --> 00:11:37,040
wanted swinging to feel the number one

423
00:11:37,040 --> 00:11:38,399
thing that came up was that swings

424
00:11:38,399 --> 00:11:39,839
needed to feel fluid

425
00:11:39,839 --> 00:11:41,920
this led to a couple of rules that drove

426
00:11:41,920 --> 00:11:43,519
uh drove a variety of other elements

427
00:11:43,519 --> 00:11:45,120
within the swing system

428
00:11:45,120 --> 00:11:47,360
first we wanted to avoid slack lines we

429
00:11:47,360 --> 00:11:48,959
wanted to keep the player feeling like

430
00:11:48,959 --> 00:11:49,839
they were swinging

431
00:11:49,839 --> 00:11:52,480
not falling so by keeping the line taut

432
00:11:52,480 --> 00:11:53,839
at all times it gave the player a much

433
00:11:53,839 --> 00:11:55,360
more predictable experience and

434
00:11:55,360 --> 00:11:56,880
prevented kind of bounciness and sudden

435
00:11:56,880 --> 00:11:58,480
change in direction as that as that

436
00:11:58,480 --> 00:12:00,079
slack line goes taut

437
00:12:00,079 --> 00:12:03,120
from a free fall and this led to

438
00:12:03,120 --> 00:12:04,639
the need that once a line is shortened

439
00:12:04,639 --> 00:12:06,800
it generally stays that length

440
00:12:06,800 --> 00:12:08,240
we do look for opportunities to try and

441
00:12:08,240 --> 00:12:09,920
kind of restore lost line length when

442
00:12:09,920 --> 00:12:12,000
possible but doing so too quickly feels

443
00:12:12,000 --> 00:12:14,079
really wrong to people and so we had to

444
00:12:14,079 --> 00:12:15,279
be really careful to do that with

445
00:12:15,279 --> 00:12:16,800
caution

446
00:12:16,800 --> 00:12:19,200
so our first goal or our first goal on

447
00:12:19,200 --> 00:12:20,560
getting a new line is then giving a

448
00:12:20,560 --> 00:12:21,839
player a good experience of just

449
00:12:21,839 --> 00:12:23,920
getting into the swing but the initial

450
00:12:23,920 --> 00:12:25,839
setup poses an immediate challenge

451
00:12:25,839 --> 00:12:27,920
the incoming velocity is almost always

452
00:12:27,920 --> 00:12:29,360
very very different than the velocity

453
00:12:29,360 --> 00:12:30,720
that's going to be tangent to the swing

454
00:12:30,720 --> 00:12:31,120
arc

455
00:12:31,120 --> 00:12:32,399
and we don't want to just snap it

456
00:12:32,399 --> 00:12:33,440
because that's going to feel like a

457
00:12:33,440 --> 00:12:35,200
sudden change in direction and just give

458
00:12:35,200 --> 00:12:36,880
players whiplash

459
00:12:36,880 --> 00:12:38,880
so however we just if we just let the

460
00:12:38,880 --> 00:12:40,560
simulation play out as is

461
00:12:40,560 --> 00:12:41,680
you get something that looks a bit like

462
00:12:41,680 --> 00:12:44,000
this because of our rule that we don't

463
00:12:44,000 --> 00:12:45,360
allow the line to lengthen again the

464
00:12:45,360 --> 00:12:46,880
velocity running into the center of the

465
00:12:46,880 --> 00:12:48,240
swing arc shortens the line up

466
00:12:48,240 --> 00:12:49,120
considerably

467
00:12:49,120 --> 00:12:51,120
and this can result in losing the

468
00:12:51,120 --> 00:12:52,560
entirety of the swings dip as well as

469
00:12:52,560 --> 00:12:54,399
causing a really rapid acceleration in

470
00:12:54,399 --> 00:12:55,440
angular velocity

471
00:12:55,440 --> 00:12:56,959
that's hard for players to react to they

472
00:12:56,959 --> 00:12:58,320
just get shot up in the air without

473
00:12:58,320 --> 00:13:00,160
knowing what happened

474
00:13:00,160 --> 00:13:02,399
so to improve we blend the incoming

475
00:13:02,399 --> 00:13:04,399
velocity towards the tangent direction

476
00:13:04,399 --> 00:13:06,079
of the swing arc a little bit on each

477
00:13:06,079 --> 00:13:07,040
iteration

478
00:13:07,040 --> 00:13:08,480
this helps maintain healthier line

479
00:13:08,480 --> 00:13:09,920
lengths and improves the expected

480
00:13:09,920 --> 00:13:11,920
behavior and the angular velocity

481
00:13:11,920 --> 00:13:13,519
and the player can also now feel a lot

482
00:13:13,519 --> 00:13:15,040
more significant drop on the swing arc

483
00:13:15,040 --> 00:13:17,600
compared to the previous motion path

484
00:13:17,600 --> 00:13:19,600
so now that they're into the swing the

485
00:13:19,600 --> 00:13:20,880
player is going to want to further mess

486
00:13:20,880 --> 00:13:21,839
around with their motion

487
00:13:21,839 --> 00:13:24,320
in order to move themselves around so we

488
00:13:24,320 --> 00:13:26,079
do this with just a simple accelerated

489
00:13:26,079 --> 00:13:28,000
rotation on the total velocity

490
00:13:28,000 --> 00:13:29,680
we scale that turn speed based on your

491
00:13:29,680 --> 00:13:31,519
max we scale that turn speed based on

492
00:13:31,519 --> 00:13:32,880
where you are in the swing arc so you

493
00:13:32,880 --> 00:13:34,480
get more control of the trough

494
00:13:34,480 --> 00:13:35,920
less up at the apexes so you kind of

495
00:13:35,920 --> 00:13:38,000
come to a stall that feels about right

496
00:13:38,000 --> 00:13:39,440
and we can also adjust the turn speed

497
00:13:39,440 --> 00:13:41,199
based on whether you're turning with the

498
00:13:41,199 --> 00:13:42,959
attach point or away from the attach

499
00:13:42,959 --> 00:13:44,480
point

500
00:13:44,480 --> 00:13:46,399
so when it comes to managing speed while

501
00:13:46,399 --> 00:13:47,920
on the line things are going to vary a

502
00:13:47,920 --> 00:13:49,360
lot from swing to swing

503
00:13:49,360 --> 00:13:51,680
the two biggest influences on speed for

504
00:13:51,680 --> 00:13:53,440
any given swing will be the amount of

505
00:13:53,440 --> 00:13:55,360
speed the hero brings in

506
00:13:55,360 --> 00:13:56,959
as well as the gravity that's applied

507
00:13:56,959 --> 00:13:58,000
during the swing that's going to

508
00:13:58,000 --> 00:14:00,079
accelerate them throughout the swing arc

509
00:14:00,079 --> 00:14:02,160
so due to streaming considerations we

510
00:14:02,160 --> 00:14:03,600
also needed to stay below

511
00:14:03,600 --> 00:14:05,680
about a 10 second average speed of 30

512
00:14:05,680 --> 00:14:07,199
meters per second so that we could avoid

513
00:14:07,199 --> 00:14:08,639
loading stalls and just get everything

514
00:14:08,639 --> 00:14:09,519
in as we're

515
00:14:09,519 --> 00:14:12,800
hurtling through the world so we start

516
00:14:12,800 --> 00:14:14,880
by deciding what our horizontal terminal

517
00:14:14,880 --> 00:14:17,199
velocity is for any given swing

518
00:14:17,199 --> 00:14:18,800
as a baseline this is done by

519
00:14:18,800 --> 00:14:20,800
translating our fall speed into a max

520
00:14:20,800 --> 00:14:22,399
speed while never letting it actually

521
00:14:22,399 --> 00:14:24,000
slow you down so we don't cut your

522
00:14:24,000 --> 00:14:25,440
incoming speed at all

523
00:14:25,440 --> 00:14:26,880
so this ends up feeling pretty natural

524
00:14:26,880 --> 00:14:28,160
to players because they're basically

525
00:14:28,160 --> 00:14:30,480
using gravity to help generate speed

526
00:14:30,480 --> 00:14:31,920
and it helps with streaming because in

527
00:14:31,920 --> 00:14:33,440
order to generate fall speed they have

528
00:14:33,440 --> 00:14:34,000
to be

529
00:14:34,000 --> 00:14:35,279
just falling for a while which is going

530
00:14:35,279 --> 00:14:36,399
to have drag which is going to slow

531
00:14:36,399 --> 00:14:37,440
their horizontal speed

532
00:14:37,440 --> 00:14:39,760
which helps our average speed so once

533
00:14:39,760 --> 00:14:41,040
they're attached we let normal physics

534
00:14:41,040 --> 00:14:42,560
accelerate them up to the max speed and

535
00:14:42,560 --> 00:14:44,320
we go from there

536
00:14:44,320 --> 00:14:45,920
but to enforce that terminal velocity we

537
00:14:45,920 --> 00:14:47,519
do kind of a little bit of a weird thing

538
00:14:47,519 --> 00:14:49,839
we only cap the hero's horizontal speed

539
00:14:49,839 --> 00:14:51,120
and this can have a little bit of an odd

540
00:14:51,120 --> 00:14:52,880
side effect in some cases where you're

541
00:14:52,880 --> 00:14:54,720
actually slowing down in 3d

542
00:14:54,720 --> 00:14:56,639
through the downswing but it does help

543
00:14:56,639 --> 00:14:58,000
you get through these really long

544
00:14:58,000 --> 00:14:59,680
swing arcs a lot faster get down to the

545
00:14:59,680 --> 00:15:01,360
trough get down to where you want to be

546
00:15:01,360 --> 00:15:02,959
in a better way and the slowdown doesn't

547
00:15:02,959 --> 00:15:04,560
come into play too often and most

548
00:15:04,560 --> 00:15:06,079
players are completely unaware it's

549
00:15:06,079 --> 00:15:07,519
happening due to a lot of other speed

550
00:15:07,519 --> 00:15:09,519
cues going on like camera rotation

551
00:15:09,519 --> 00:15:11,120
environment motion motion blur screen

552
00:15:11,120 --> 00:15:12,240
effects everything else that we're just

553
00:15:12,240 --> 00:15:14,160
throwing at them to try and sell

554
00:15:14,160 --> 00:15:17,120
sell that speed now on the other side of

555
00:15:17,120 --> 00:15:18,480
the swing on the upswing

556
00:15:18,480 --> 00:15:20,320
gravity is going to be slowing you down

557
00:15:20,320 --> 00:15:22,000
so however we do have a few things that

558
00:15:22,000 --> 00:15:23,519
we wanted to take into account on this

559
00:15:23,519 --> 00:15:24,639
side of the swing

560
00:15:24,639 --> 00:15:26,079
first we want players to feel like

561
00:15:26,079 --> 00:15:27,680
gravity is appropriately slowing them

562
00:15:27,680 --> 00:15:28,720
down so it needs to feel

563
00:15:28,720 --> 00:15:30,800
physically correct and natural but with

564
00:15:30,800 --> 00:15:32,560
line lengths being highly variable it

565
00:15:32,560 --> 00:15:34,320
creates kind of an inconsistent timing

566
00:15:34,320 --> 00:15:35,839
to the various release levels something

567
00:15:35,839 --> 00:15:36,880
we wanted to try and

568
00:15:36,880 --> 00:15:39,839
kind of close the close the gap on so we

569
00:15:39,839 --> 00:15:41,440
also don't want to slow the player down

570
00:15:41,440 --> 00:15:42,800
too much when they're near the trough we

571
00:15:42,800 --> 00:15:43,680
want to keep

572
00:15:43,680 --> 00:15:45,120
let them keep that hard-earned speed

573
00:15:45,120 --> 00:15:46,160
just a little bit longer so that they

574
00:15:46,160 --> 00:15:47,440
can use it to fling themselves through

575
00:15:47,440 --> 00:15:48,480
the world

576
00:15:48,480 --> 00:15:51,279
and from there we account for all this

577
00:15:51,279 --> 00:15:53,120
by implementing a variable gravity

578
00:15:53,120 --> 00:15:54,959
upswing at any given point on the

579
00:15:54,959 --> 00:15:56,480
upswing your gravity is going to be

580
00:15:56,480 --> 00:15:57,920
determined by a combination of your

581
00:15:57,920 --> 00:15:58,880
current speed

582
00:15:58,880 --> 00:16:01,279
and where you are on the swing arc what

583
00:16:01,279 --> 00:16:02,800
this ends up doing is really helping

584
00:16:02,800 --> 00:16:05,040
swing timing be a lot more consistent

585
00:16:05,040 --> 00:16:06,720
and allowing more swings to move through

586
00:16:06,720 --> 00:16:08,399
the full range of release points so the

587
00:16:08,399 --> 00:16:09,600
player ends up having a much more

588
00:16:09,600 --> 00:16:10,800
predictable time

589
00:16:10,800 --> 00:16:12,560
and can get those high releases even if

590
00:16:12,560 --> 00:16:15,279
they're not necessarily moving that fast

591
00:16:15,279 --> 00:16:17,839
so with the basics out now in place i

592
00:16:17,839 --> 00:16:19,279
want to talk a bit about our experience

593
00:16:19,279 --> 00:16:20,880
of refining the swinging mechanics over

594
00:16:20,880 --> 00:16:22,399
the course of production again we go

595
00:16:22,399 --> 00:16:24,240
back to our usability driven iterative

596
00:16:24,240 --> 00:16:26,079
approach and pro initial goals

597
00:16:26,079 --> 00:16:27,519
we really wanted the player to feel the

598
00:16:27,519 --> 00:16:29,360
momentum in physics but we also wanted

599
00:16:29,360 --> 00:16:31,440
swinging to be accessible

600
00:16:31,440 --> 00:16:33,680
so usability testing proves a critical

601
00:16:33,680 --> 00:16:35,040
element in iterating on this

602
00:16:35,040 --> 00:16:37,199
accessibility this is because developers

603
00:16:37,199 --> 00:16:39,040
quickly become their own worst testers

604
00:16:39,040 --> 00:16:40,720
and i say this all the time to people to

605
00:16:40,720 --> 00:16:41,759
work with because

606
00:16:41,759 --> 00:16:43,199
basically we just know too much about

607
00:16:43,199 --> 00:16:44,880
how things work and we're generally

608
00:16:44,880 --> 00:16:46,240
really quick to forgive ourselves

609
00:16:46,240 --> 00:16:48,160
because our code is amazing and shame on

610
00:16:48,160 --> 00:16:51,680
you for suggesting otherwise

611
00:16:51,680 --> 00:16:53,600
so we also tend to play the game in a

612
00:16:53,600 --> 00:16:54,720
very particular way

613
00:16:54,720 --> 00:16:56,720
the way we designed it real players

614
00:16:56,720 --> 00:16:58,160
however will interact with the game in a

615
00:16:58,160 --> 00:16:59,839
number of unexpected and sometimes

616
00:16:59,839 --> 00:17:01,759
confounding ways stressing elements of

617
00:17:01,759 --> 00:17:03,199
the system that the developer may

618
00:17:03,199 --> 00:17:06,400
never encounter so finally you need to

619
00:17:06,400 --> 00:17:06,959
make sure

620
00:17:06,959 --> 00:17:08,319
functionality lines up with player

621
00:17:08,319 --> 00:17:10,720
expectations as a developer we

622
00:17:10,720 --> 00:17:12,000
may have a perfectly rational

623
00:17:12,000 --> 00:17:13,359
explanation for why something works the

624
00:17:13,359 --> 00:17:15,039
way it does put to a player it just

625
00:17:15,039 --> 00:17:15,439
seems

626
00:17:15,439 --> 00:17:17,839
weird broken confusing or just not any

627
00:17:17,839 --> 00:17:19,679
fun whatsoever

628
00:17:19,679 --> 00:17:22,400
so what do we find well players suck at

629
00:17:22,400 --> 00:17:23,839
managing physics

630
00:17:23,839 --> 00:17:25,679
so forces will often act against their

631
00:17:25,679 --> 00:17:27,520
desires attach points aren't really

632
00:17:27,520 --> 00:17:28,960
directly player driven leading to a lot

633
00:17:28,960 --> 00:17:30,080
of variability

634
00:17:30,080 --> 00:17:31,760
and world geometry is complex and

635
00:17:31,760 --> 00:17:33,120
difficult for many players to

636
00:17:33,120 --> 00:17:34,799
effectively navigate while tethered to

637
00:17:34,799 --> 00:17:36,160
an attach point

638
00:17:36,160 --> 00:17:37,760
the end result was that players felt

639
00:17:37,760 --> 00:17:39,360
that they lacked in they kind of lacked

640
00:17:39,360 --> 00:17:41,200
control over the in-game results

641
00:17:41,200 --> 00:17:42,799
this was despite everything working just

642
00:17:42,799 --> 00:17:44,480
as intended when we made the initial

643
00:17:44,480 --> 00:17:46,240
version of swinging

644
00:17:46,240 --> 00:17:47,679
so how do we approach solving this

645
00:17:47,679 --> 00:17:49,440
problem we injected a number of assists

646
00:17:49,440 --> 00:17:50,960
into swinging to help smooth out the

647
00:17:50,960 --> 00:17:52,880
experience giving them a few less things

648
00:17:52,880 --> 00:17:54,400
to worry about and moving the system's

649
00:17:54,400 --> 00:17:56,080
behavior to be closer to the player

650
00:17:56,080 --> 00:17:56,960
expectations

651
00:17:56,960 --> 00:17:59,919
wherever possible algo our goal was to

652
00:17:59,919 --> 00:18:01,679
keep these as invisible to the players

653
00:18:01,679 --> 00:18:02,480
we could

654
00:18:02,480 --> 00:18:04,320
and we found that if you deviated too

655
00:18:04,320 --> 00:18:06,320
far from real physics players would

656
00:18:06,320 --> 00:18:08,160
notice and often they would react pretty

657
00:18:08,160 --> 00:18:10,000
negatively to it

658
00:18:10,000 --> 00:18:12,720
so our first major usability problem was

659
00:18:12,720 --> 00:18:14,320
that players felt like it was basically

660
00:18:14,320 --> 00:18:16,720
impossible to swing in a straight line

661
00:18:16,720 --> 00:18:18,000
the result of the simulation was

662
00:18:18,000 --> 00:18:19,760
creating a mismatch between the player's

663
00:18:19,760 --> 00:18:20,720
input intent

664
00:18:20,720 --> 00:18:22,400
and the character motion and that and

665
00:18:22,400 --> 00:18:23,679
the results were confusing and

666
00:18:23,679 --> 00:18:25,840
frustrating a lot of our players

667
00:18:25,840 --> 00:18:27,760
so the reason this was happening is that

668
00:18:27,760 --> 00:18:29,440
forces were conspiring to move the

669
00:18:29,440 --> 00:18:30,480
character in a way

670
00:18:30,480 --> 00:18:31,679
that it would settle underneath the

671
00:18:31,679 --> 00:18:33,039
attach point as you might imagine with a

672
00:18:33,039 --> 00:18:34,240
normal pendulum

673
00:18:34,240 --> 00:18:35,760
the tension force has this component

674
00:18:35,760 --> 00:18:37,360
that moves towards the attach point and

675
00:18:37,360 --> 00:18:39,200
gravity just reinforces that to continue

676
00:18:39,200 --> 00:18:41,360
to pull you down

677
00:18:41,360 --> 00:18:42,960
so in this video you'll be able to see

678
00:18:42,960 --> 00:18:44,559
what happens when the tension forces are

679
00:18:44,559 --> 00:18:46,320
in full effect

680
00:18:46,320 --> 00:18:47,600
uh the player is going to be trying to

681
00:18:47,600 --> 00:18:48,799
swing straight down the middle of the

682
00:18:48,799 --> 00:18:49,520
street here

683
00:18:49,520 --> 00:18:51,120
but they're consistently getting pulled

684
00:18:51,120 --> 00:18:52,799
sideways towards the attach point

685
00:18:52,799 --> 00:18:54,240
when they then try and counter steer to

686
00:18:54,240 --> 00:18:55,600
get back to the middle their next

687
00:18:55,600 --> 00:18:56,960
attachment goes on the other side of the

688
00:18:56,960 --> 00:18:57,360
street

689
00:18:57,360 --> 00:18:59,840
and they it just increases frustration

690
00:18:59,840 --> 00:19:01,360
so to top all this off that

691
00:19:01,360 --> 00:19:04,080
zigzagging motion also slows them down

692
00:19:04,080 --> 00:19:05,520
for their straight line speed

693
00:19:05,520 --> 00:19:06,799
and they just feel like they can't

694
00:19:06,799 --> 00:19:08,000
really build up that momentum that

695
00:19:08,000 --> 00:19:11,679
they're looking for

696
00:19:11,679 --> 00:19:13,600
so how do you fight gravity well you

697
00:19:13,600 --> 00:19:15,039
cheat so

698
00:19:15,039 --> 00:19:17,280
we move the simulation pivot away from

699
00:19:17,280 --> 00:19:18,080
the wall

700
00:19:18,080 --> 00:19:19,760
into a position that will help us swing

701
00:19:19,760 --> 00:19:21,360
straighter while leaving the visible

702
00:19:21,360 --> 00:19:22,160
attach point

703
00:19:22,160 --> 00:19:24,400
on the wall we then can blend that pivot

704
00:19:24,400 --> 00:19:25,360
position back

705
00:19:25,360 --> 00:19:27,600
uh back over time or when the player is

706
00:19:27,600 --> 00:19:29,520
turning this makes sure that turns do

707
00:19:29,520 --> 00:19:31,039
pivot on the right place and on the

708
00:19:31,039 --> 00:19:32,160
visible place

709
00:19:32,160 --> 00:19:33,760
and that if you settle underneath the

710
00:19:33,760 --> 00:19:35,120
attach point you're settling under the

711
00:19:35,120 --> 00:19:36,799
visual one not the one that we've moved

712
00:19:36,799 --> 00:19:37,679
away

713
00:19:37,679 --> 00:19:39,679
so this motion was detectable to players

714
00:19:39,679 --> 00:19:41,200
particularly when we a b tested it but

715
00:19:41,200 --> 00:19:42,640
we found that most felden actually

716
00:19:42,640 --> 00:19:44,400
worked more as they expected

717
00:19:44,400 --> 00:19:45,760
aligning their input desire to the

718
00:19:45,760 --> 00:19:48,559
results so in this video you'll see that

719
00:19:48,559 --> 00:19:49,840
pivot tweaking is going to be fully

720
00:19:49,840 --> 00:19:50,960
active

721
00:19:50,960 --> 00:19:52,480
and the player can maintain a lot more

722
00:19:52,480 --> 00:19:54,400
consistent center line and build speed a

723
00:19:54,400 --> 00:19:55,440
lot more easily

724
00:19:55,440 --> 00:19:56,640
and their directional intent is

725
00:19:56,640 --> 00:20:00,240
transferred a lot more cleanly to motion

726
00:20:04,159 --> 00:20:07,039
so the next usability problem was that

727
00:20:07,039 --> 00:20:08,720
players felt they weren't really able to

728
00:20:08,720 --> 00:20:10,559
get a swing line when their body was at

729
00:20:10,559 --> 00:20:12,720
or near the top of a building

730
00:20:12,720 --> 00:20:14,720
this was happening because we required

731
00:20:14,720 --> 00:20:16,159
an attach point to be just a minimum

732
00:20:16,159 --> 00:20:17,280
height above you

733
00:20:17,280 --> 00:20:18,880
and we do that because it prevents you

734
00:20:18,880 --> 00:20:20,720
from just flying over the pivot point or

735
00:20:20,720 --> 00:20:22,400
requiring that we just like slam you

736
00:20:22,400 --> 00:20:23,919
straight down in order to get you under

737
00:20:23,919 --> 00:20:24,400
it

738
00:20:24,400 --> 00:20:26,080
however this rule was completely hidden

739
00:20:26,080 --> 00:20:27,679
from the player and there was not really

740
00:20:27,679 --> 00:20:29,679
any reason though for them to expect or

741
00:20:29,679 --> 00:20:31,679
anticipate that it was there

742
00:20:31,679 --> 00:20:33,120
an additional reason this can occur is

743
00:20:33,120 --> 00:20:34,400
that players perception of the character

744
00:20:34,400 --> 00:20:36,240
position for the world is pretty murky

745
00:20:36,240 --> 00:20:37,360
when they're in the air and all the

746
00:20:37,360 --> 00:20:39,360
buildings are pretty far off to the side

747
00:20:39,360 --> 00:20:40,720
and players are just frankly pretty

748
00:20:40,720 --> 00:20:42,400
impatient when falling and spamming that

749
00:20:42,400 --> 00:20:45,039
r2 button and trying to get a swingline

750
00:20:45,039 --> 00:20:46,799
so what do we do well once a cheater

751
00:20:46,799 --> 00:20:48,240
always a cheater

752
00:20:48,240 --> 00:20:49,840
we secretly allow the simulation attach

753
00:20:49,840 --> 00:20:51,760
point to rise above the building edge

754
00:20:51,760 --> 00:20:53,280
this would raise the valid attach point

755
00:20:53,280 --> 00:20:54,799
ceiling and let people attach a little

756
00:20:54,799 --> 00:20:55,679
bit sooner

757
00:20:55,679 --> 00:20:57,520
it also had this nice side effect of

758
00:20:57,520 --> 00:20:59,200
improving lines that were previously

759
00:20:59,200 --> 00:21:00,000
good but not

760
00:21:00,000 --> 00:21:02,320
really all that great and so player

761
00:21:02,320 --> 00:21:03,679
awareness of this was actually almost

762
00:21:03,679 --> 00:21:05,919
zero it's actually pretty hard to notice

763
00:21:05,919 --> 00:21:07,520
a vertical shift in the pivot point when

764
00:21:07,520 --> 00:21:09,760
you're swinging underneath it

765
00:21:09,760 --> 00:21:12,159
so our next usability problem was our

766
00:21:12,159 --> 00:21:13,919
game director special which is that

767
00:21:13,919 --> 00:21:15,520
players were often over steering when

768
00:21:15,520 --> 00:21:16,960
trying to turn and clipping into the

769
00:21:16,960 --> 00:21:18,480
edges of buildings

770
00:21:18,480 --> 00:21:20,400
and so our solution here is to do a

771
00:21:20,400 --> 00:21:21,919
number of collision tests to scan the

772
00:21:21,919 --> 00:21:23,520
world for problem cases

773
00:21:23,520 --> 00:21:25,280
we send a kona checks forward looking

774
00:21:25,280 --> 00:21:26,559
for things that we might run into so

775
00:21:26,559 --> 00:21:27,840
that we can nudge you just a little to

776
00:21:27,840 --> 00:21:28,960
the left or the right

777
00:21:28,960 --> 00:21:30,159
and we would also send a series of

778
00:21:30,159 --> 00:21:32,000
checks kind of forward and sideways

779
00:21:32,000 --> 00:21:34,240
looking for gaps in upcoming walls this

780
00:21:34,240 --> 00:21:35,840
gave us a clue that we might want to

781
00:21:35,840 --> 00:21:37,360
dampen your steering values a little bit

782
00:21:37,360 --> 00:21:38,240
so that you don't over

783
00:21:38,240 --> 00:21:40,320
steer when trying to make a turn and

784
00:21:40,320 --> 00:21:42,240
slam yourself into the wall instead of

785
00:21:42,240 --> 00:21:44,480
clearing that wall and swinging into the

786
00:21:44,480 --> 00:21:45,360
gap

787
00:21:45,360 --> 00:21:46,799
so these two things combine to give

788
00:21:46,799 --> 00:21:49,039
players a hugely empowering feeling of

789
00:21:49,039 --> 00:21:50,080
just made it without

790
00:21:50,080 --> 00:21:51,520
really noticing that we were the ones

791
00:21:51,520 --> 00:21:54,000
letting them make it

792
00:21:54,000 --> 00:21:55,679
so yet another consistent problem was

793
00:21:55,679 --> 00:21:56,960
that players would often have a line

794
00:21:56,960 --> 00:21:58,400
that was just long enough to smack them

795
00:21:58,400 --> 00:21:59,600
right into the top of a building that

796
00:21:59,600 --> 00:22:00,480
they were that they thought they were

797
00:22:00,480 --> 00:22:01,440
going to clear

798
00:22:01,440 --> 00:22:03,039
and this was kind of particularly bad

799
00:22:03,039 --> 00:22:04,480
because players as we said didn't have

800
00:22:04,480 --> 00:22:06,080
any control over line length

801
00:22:06,080 --> 00:22:07,520
so they were quick to blame us for all

802
00:22:07,520 --> 00:22:09,120
their problems

803
00:22:09,120 --> 00:22:11,120
so the solution then is to just shorten

804
00:22:11,120 --> 00:22:13,120
the line slowly but dynamically in order

805
00:22:13,120 --> 00:22:13,600
to get it

806
00:22:13,600 --> 00:22:15,679
just short enough to clear that building

807
00:22:15,679 --> 00:22:17,120
so we'd use collision to scan ahead for

808
00:22:17,120 --> 00:22:18,559
the maximum height and then we would

809
00:22:18,559 --> 00:22:19,919
slowly raise the player through the

810
00:22:19,919 --> 00:22:21,600
swing until the new line length

811
00:22:21,600 --> 00:22:23,039
was just short enough to clear that

812
00:22:23,039 --> 00:22:24,960
building

813
00:22:24,960 --> 00:22:26,960
so one final element to talk about uh is

814
00:22:26,960 --> 00:22:28,240
how we shorten the line to keep players

815
00:22:28,240 --> 00:22:29,280
above the ground

816
00:22:29,280 --> 00:22:31,120
so we do this because our ground and

817
00:22:31,120 --> 00:22:33,039
rooftops are so littered with cars and

818
00:22:33,039 --> 00:22:34,960
props and pedestrians and squirrels and

819
00:22:34,960 --> 00:22:36,559
other things that trying to navigate and

820
00:22:36,559 --> 00:22:37,600
swing through all that would be

821
00:22:37,600 --> 00:22:38,960
basically impossible

822
00:22:38,960 --> 00:22:40,640
we didn't want players face planing into

823
00:22:40,640 --> 00:22:42,240
the ground all the time and we also

824
00:22:42,240 --> 00:22:43,520
didn't want them becoming just a bug on

825
00:22:43,520 --> 00:22:44,799
a windshield

826
00:22:44,799 --> 00:22:46,400
so similar to clearing buildings we'd

827
00:22:46,400 --> 00:22:47,760
use collision to get the ground tight

828
00:22:47,760 --> 00:22:49,360
and then we'd scale that vertical motion

829
00:22:49,360 --> 00:22:50,400
on their downswing

830
00:22:50,400 --> 00:22:51,919
in order to keep them above the ground

831
00:22:51,919 --> 00:22:53,600
and have kind of a swing floor so that

832
00:22:53,600 --> 00:22:55,200
they could get that nice street sweeping

833
00:22:55,200 --> 00:22:57,120
feel

834
00:22:57,120 --> 00:22:58,880
so once a player's time on the line is

835
00:22:58,880 --> 00:23:00,000
complete it's time for what ends up

836
00:23:00,000 --> 00:23:01,360
being one of the most satisfying

837
00:23:01,360 --> 00:23:02,240
elements of swinging

838
00:23:02,240 --> 00:23:03,679
flinging yourself off the line across

839
00:23:03,679 --> 00:23:05,600
the world with reckless abandon

840
00:23:05,600 --> 00:23:07,280
so when doing so we have two sets of

841
00:23:07,280 --> 00:23:09,200
data for letting go we have releasing

842
00:23:09,200 --> 00:23:10,080
and jumping

843
00:23:10,080 --> 00:23:11,840
jumping gives you a lot more acrobatic

844
00:23:11,840 --> 00:23:13,679
motion higher

845
00:23:13,679 --> 00:23:15,760
a lot more height and more speed but

846
00:23:15,760 --> 00:23:17,520
just simple releasing has simpler

847
00:23:17,520 --> 00:23:18,720
animations and allows you to take a

848
00:23:18,720 --> 00:23:20,640
follow-up action more quickly so

849
00:23:20,640 --> 00:23:22,080
players get to choose between the two

850
00:23:22,080 --> 00:23:24,080
based on what they're trying to do

851
00:23:24,080 --> 00:23:25,600
one of the really nice gameplay features

852
00:23:25,600 --> 00:23:27,120
of swinging when it comes to these

853
00:23:27,120 --> 00:23:29,200
releases is the inherent analog nature

854
00:23:29,200 --> 00:23:30,320
of how release points

855
00:23:30,320 --> 00:23:32,400
translate into exit direction so a

856
00:23:32,400 --> 00:23:33,919
player can choose to release low

857
00:23:33,919 --> 00:23:35,440
to get more speed or hold on just a

858
00:23:35,440 --> 00:23:38,240
little bit longer to get more height

859
00:23:38,240 --> 00:23:40,159
now our first approach to swing releases

860
00:23:40,159 --> 00:23:41,360
was very metric driven

861
00:23:41,360 --> 00:23:42,960
something that was totally sane based on

862
00:23:42,960 --> 00:23:44,960
insomniac's platforming history

863
00:23:44,960 --> 00:23:46,720
so we define a desired jump height and a

864
00:23:46,720 --> 00:23:48,400
time to peak for various release points

865
00:23:48,400 --> 00:23:50,159
and speeds along the swing arc and then

866
00:23:50,159 --> 00:23:51,679
kind of blend those values from those

867
00:23:51,679 --> 00:23:53,440
key from those key points

868
00:23:53,440 --> 00:23:55,600
for any to get one for any release point

869
00:23:55,600 --> 00:23:57,120
the goal was to make jumps feel

870
00:23:57,120 --> 00:23:58,640
predictable and consistent so that

871
00:23:58,640 --> 00:23:59,840
players could plan ahead and get their

872
00:23:59,840 --> 00:24:01,760
next move going

873
00:24:01,760 --> 00:24:03,440
we had this model for about two years

874
00:24:03,440 --> 00:24:04,880
and we were getting mostly positive

875
00:24:04,880 --> 00:24:06,559
feedback on it but there was always this

876
00:24:06,559 --> 00:24:07,679
kind of undercurrent

877
00:24:07,679 --> 00:24:09,200
uh pointing at a lack of player

878
00:24:09,200 --> 00:24:11,279
satisfaction players felt like jumps

879
00:24:11,279 --> 00:24:12,799
were too heavy and that their momentum

880
00:24:12,799 --> 00:24:13,919
on the swingline wasn't really

881
00:24:13,919 --> 00:24:15,600
translating to their jumps

882
00:24:15,600 --> 00:24:16,880
this was because the metric different

883
00:24:16,880 --> 00:24:18,559
approach was changing gravity

884
00:24:18,559 --> 00:24:20,480
significantly for any given release

885
00:24:20,480 --> 00:24:21,120
point

886
00:24:21,120 --> 00:24:23,679
based on player speed to hit that jump

887
00:24:23,679 --> 00:24:25,360
height target that we had set

888
00:24:25,360 --> 00:24:26,720
instead of feeling really rewarding with

889
00:24:26,720 --> 00:24:28,640
an expected amount of fling players kind

890
00:24:28,640 --> 00:24:30,640
of physics feel was being violated

891
00:24:30,640 --> 00:24:31,679
and they felt that they were being

892
00:24:31,679 --> 00:24:34,240
penalized somehow we had this model in

893
00:24:34,240 --> 00:24:34,559
for

894
00:24:34,559 --> 00:24:37,520
the uh helicopter chase demo in 2017

895
00:24:37,520 --> 00:24:38,799
when a lot of people online were saying

896
00:24:38,799 --> 00:24:40,400
oh the swinging looks slow

897
00:24:40,400 --> 00:24:42,159
and so part of that was this kind of

898
00:24:42,159 --> 00:24:43,679
heaviness to the swing

899
00:24:43,679 --> 00:24:46,320
excuse me to the swing jumps so to fix

900
00:24:46,320 --> 00:24:47,279
this

901
00:24:47,279 --> 00:24:49,440
we move to a more free release model

902
00:24:49,440 --> 00:24:50,720
they'll let go of all those controlling

903
00:24:50,720 --> 00:24:52,080
metrics in order to keep a

904
00:24:52,080 --> 00:24:54,000
fixed gravity for each release point

905
00:24:54,000 --> 00:24:55,520
this is the only design factor into the

906
00:24:55,520 --> 00:24:56,159
jump

907
00:24:56,159 --> 00:24:57,200
other than your velocity on the

908
00:24:57,200 --> 00:24:59,440
swingline and as we wanted to remove

909
00:24:59,440 --> 00:25:00,640
anything else that was going to feel

910
00:25:00,640 --> 00:25:02,000
artificial

911
00:25:02,000 --> 00:25:04,240
so once implemented this change created

912
00:25:04,240 --> 00:25:06,400
a much more natural translation of swing

913
00:25:06,400 --> 00:25:07,760
speed to jump size

914
00:25:07,760 --> 00:25:09,840
that better match player expectation we

915
00:25:09,840 --> 00:25:11,840
saw an immediate increase in fun factor

916
00:25:11,840 --> 00:25:13,279
as players were now able to fling

917
00:25:13,279 --> 00:25:14,640
themselves across the world with just

918
00:25:14,640 --> 00:25:15,279
abandon

919
00:25:15,279 --> 00:25:16,799
which led to a greatly increased sense

920
00:25:16,799 --> 00:25:18,640
of speed and joy and just general

921
00:25:18,640 --> 00:25:21,279
cohesiveness of the entire swinging

922
00:25:21,279 --> 00:25:23,840
experience so stepping away from the

923
00:25:23,840 --> 00:25:25,200
simulation side for a minute i want to

924
00:25:25,200 --> 00:25:26,720
talk just a little bit about how the

925
00:25:26,720 --> 00:25:28,400
animation for swinging is implemented on

926
00:25:28,400 --> 00:25:29,360
the code side

927
00:25:29,360 --> 00:25:30,640
this is mostly going to be about the

928
00:25:30,640 --> 00:25:32,799
mechanics of how we pick animations to

929
00:25:32,799 --> 00:25:33,200
play

930
00:25:33,200 --> 00:25:34,799
and then adjust them to more accurately

931
00:25:34,799 --> 00:25:37,360
represent the underlying simulation

932
00:25:37,360 --> 00:25:38,880
so when we first started talking about

933
00:25:38,880 --> 00:25:40,480
swinging the gameplay and animation

934
00:25:40,480 --> 00:25:42,080
groups laid out some high level goals

935
00:25:42,080 --> 00:25:43,919
for how we wanted the animation to look

936
00:25:43,919 --> 00:25:46,480
and feel this included having fluid

937
00:25:46,480 --> 00:25:47,679
animation over the course of the swing

938
00:25:47,679 --> 00:25:48,080
arc

939
00:25:48,080 --> 00:25:50,080
having a clean entry animation from our

940
00:25:50,080 --> 00:25:51,919
air pose through the sling and into the

941
00:25:51,919 --> 00:25:52,960
swing

942
00:25:52,960 --> 00:25:54,480
the character's body obviously wanted to

943
00:25:54,480 --> 00:25:55,760
align to the web line so that it felt

944
00:25:55,760 --> 00:25:56,640
right

945
00:25:56,640 --> 00:25:58,000
and we needed to have this kind of

946
00:25:58,000 --> 00:25:59,760
well-timed kick at the trough in order

947
00:25:59,760 --> 00:26:00,720
to sell momentum

948
00:26:00,720 --> 00:26:02,720
and for a player cue as to where they

949
00:26:02,720 --> 00:26:04,799
were in the swing arc

950
00:26:04,799 --> 00:26:06,880
so our first iteration of animating the

951
00:26:06,880 --> 00:26:08,240
swing we approached the seamless

952
00:26:08,240 --> 00:26:09,440
animation through the swing arc by

953
00:26:09,440 --> 00:26:12,000
actually just using a single animation

954
00:26:12,000 --> 00:26:13,919
the animator created an on-the-line

955
00:26:13,919 --> 00:26:15,120
animation that started at the drop

956
00:26:15,120 --> 00:26:16,400
horizon and went all the way through to

957
00:26:16,400 --> 00:26:17,919
the apex horizon

958
00:26:17,919 --> 00:26:19,360
in code we would then drive the

959
00:26:19,360 --> 00:26:21,120
animation's time based on where the

960
00:26:21,120 --> 00:26:22,080
player was

961
00:26:22,080 --> 00:26:25,200
in the swing arc for any given frame so

962
00:26:25,200 --> 00:26:26,559
in order to get our clean entry

963
00:26:26,559 --> 00:26:27,840
animations we created

964
00:26:27,840 --> 00:26:30,080
separate swing intro animations for

965
00:26:30,080 --> 00:26:31,840
different points along the swing arc

966
00:26:31,840 --> 00:26:33,840
these animations would end pose matched

967
00:26:33,840 --> 00:26:35,360
with the full swing animation so that

968
00:26:35,360 --> 00:26:37,279
the blend of the swing would be seamless

969
00:26:37,279 --> 00:26:39,600
and when a player began a swing we'd we

970
00:26:39,600 --> 00:26:41,120
would calculate where they were in the

971
00:26:41,120 --> 00:26:41,919
swing arc

972
00:26:41,919 --> 00:26:43,520
and blend between those different kind

973
00:26:43,520 --> 00:26:46,159
of pointed animations in order to get

974
00:26:46,159 --> 00:26:48,000
one specifically for that angle

975
00:26:48,000 --> 00:26:50,080
we would then continue to dynamically

976
00:26:50,080 --> 00:26:51,360
blend that value

977
00:26:51,360 --> 00:26:52,799
during the entirety of that intro

978
00:26:52,799 --> 00:26:54,240
animation so that we would get a nice

979
00:26:54,240 --> 00:26:54,640
match

980
00:26:54,640 --> 00:26:56,240
for the final pose of the swing as they

981
00:26:56,240 --> 00:26:58,480
go into that swing animation

982
00:26:58,480 --> 00:27:00,320
in order to get the body uh in order to

983
00:27:00,320 --> 00:27:01,600
get the body to align without having to

984
00:27:01,600 --> 00:27:03,200
make duplicate swing arc animations we

985
00:27:03,200 --> 00:27:04,880
then deployed partial animations to just

986
00:27:04,880 --> 00:27:06,720
kind of adjust the final body angle

987
00:27:06,720 --> 00:27:08,320
we use this on both the body to go side

988
00:27:08,320 --> 00:27:09,919
to side as well as the arms for kind of

989
00:27:09,919 --> 00:27:11,600
a final fix up when those weren't uh

990
00:27:11,600 --> 00:27:13,600
when those weren't matching

991
00:27:13,600 --> 00:27:15,679
so after iterating on this model for

992
00:27:15,679 --> 00:27:16,720
most of production

993
00:27:16,720 --> 00:27:18,320
we had some things that worked just as

994
00:27:18,320 --> 00:27:20,159
expected these included the entry

995
00:27:20,159 --> 00:27:21,760
animation system working really really

996
00:27:21,760 --> 00:27:22,080
well

997
00:27:22,080 --> 00:27:23,919
it allowed smooth entry and timing into

998
00:27:23,919 --> 00:27:25,279
the swing animation

999
00:27:25,279 --> 00:27:26,960
and our adjustment partials did a really

1000
00:27:26,960 --> 00:27:28,399
good job at aligning the character to

1001
00:27:28,399 --> 00:27:30,399
the swingline with minimal amount of

1002
00:27:30,399 --> 00:27:32,880
additional animation required finally

1003
00:27:32,880 --> 00:27:34,559
the animation through the swing arc was

1004
00:27:34,559 --> 00:27:35,679
fluid

1005
00:27:35,679 --> 00:27:36,960
but the system presented a few

1006
00:27:36,960 --> 00:27:38,240
limitations that were capping the

1007
00:27:38,240 --> 00:27:39,440
animator's creativity

1008
00:27:39,440 --> 00:27:41,279
first we had really limited variability

1009
00:27:41,279 --> 00:27:43,520
in the swing getting any variation in

1010
00:27:43,520 --> 00:27:45,200
this model required animating a brand

1011
00:27:45,200 --> 00:27:46,880
new swing from start to finish one end

1012
00:27:46,880 --> 00:27:47,600
to the other

1013
00:27:47,600 --> 00:27:48,640
and if you wanted to do something

1014
00:27:48,640 --> 00:27:49,600
different you had to make another one

1015
00:27:49,600 --> 00:27:51,440
and another one and another one

1016
00:27:51,440 --> 00:27:54,080
and so next we had very very perceptible

1017
00:27:54,080 --> 00:27:56,240
animation time scaling

1018
00:27:56,240 --> 00:27:57,679
line lengths and player speeds are

1019
00:27:57,679 --> 00:27:59,440
highly variable which was borne out in

1020
00:27:59,440 --> 00:28:01,039
highly variable arc speeds

1021
00:28:01,039 --> 00:28:02,640
and with a fixed number of animation

1022
00:28:02,640 --> 00:28:04,399
frames scaling over a variable time

1023
00:28:04,399 --> 00:28:04,960
range

1024
00:28:04,960 --> 00:28:06,880
we would get these really easy to feel

1025
00:28:06,880 --> 00:28:08,480
time scaling artifacts and this was

1026
00:28:08,480 --> 00:28:09,520
especially evident

1027
00:28:09,520 --> 00:28:11,679
when we get these really slow sluggish

1028
00:28:11,679 --> 00:28:12,960
kick throughs

1029
00:28:12,960 --> 00:28:14,720
that lacked any impact whatsoever on

1030
00:28:14,720 --> 00:28:17,520
longer lines or slower swings

1031
00:28:17,520 --> 00:28:19,600
so we had a couple new goals enable

1032
00:28:19,600 --> 00:28:22,399
variety and reduce the time scaling

1033
00:28:22,399 --> 00:28:24,559
we accomplished we attacked these by

1034
00:28:24,559 --> 00:28:26,320
breaking the swing arc up into pieces

1035
00:28:26,320 --> 00:28:28,159
that we then animated separately

1036
00:28:28,159 --> 00:28:29,840
we would animate the downswing and the

1037
00:28:29,840 --> 00:28:31,200
upswing independently

1038
00:28:31,200 --> 00:28:32,960
all the way through the trough which let

1039
00:28:32,960 --> 00:28:34,799
us kind of overlap the uh the kick

1040
00:28:34,799 --> 00:28:36,480
animation wherever we wanted to kind of

1041
00:28:36,480 --> 00:28:37,200
overlap that

1042
00:28:37,200 --> 00:28:39,520
inflection point we would then continue

1043
00:28:39,520 --> 00:28:41,440
to drive the animation time as before

1044
00:28:41,440 --> 00:28:43,279
on the up and down swing animations as

1045
00:28:43,279 --> 00:28:44,399
they weren't as susceptible to the

1046
00:28:44,399 --> 00:28:46,000
visible scaling as the kicks

1047
00:28:46,000 --> 00:28:49,520
as the kick animations were so

1048
00:28:49,520 --> 00:28:50,960
once we were in a swing we would

1049
00:28:50,960 --> 00:28:52,559
estimate the time to trough uh during

1050
00:28:52,559 --> 00:28:53,919
the downswing so that we could trigger

1051
00:28:53,919 --> 00:28:55,600
that kick animation at just the right

1052
00:28:55,600 --> 00:28:56,159
time

1053
00:28:56,159 --> 00:28:57,360
in order to be able to play it at full

1054
00:28:57,360 --> 00:28:59,760
speed this instantly made our kicks feel

1055
00:28:59,760 --> 00:29:01,840
a lot more powerful and consistent

1056
00:29:01,840 --> 00:29:03,360
it also meant that we could plug in a

1057
00:29:03,360 --> 00:29:05,120
variety of animations into the kick

1058
00:29:05,120 --> 00:29:06,880
portion without needing to reanimate the

1059
00:29:06,880 --> 00:29:08,240
rest of the swing

1060
00:29:08,240 --> 00:29:10,159
but animators be animators and we

1061
00:29:10,159 --> 00:29:12,399
weren't done yet they wanted more

1062
00:29:12,399 --> 00:29:14,240
so by breaking the swing animation into

1063
00:29:14,240 --> 00:29:15,840
pieces it allowed us to now have a lot

1064
00:29:15,840 --> 00:29:17,679
more variety in the way we constructed

1065
00:29:17,679 --> 00:29:19,120
the animation for the swing

1066
00:29:19,120 --> 00:29:21,120
we were able to introduce custom kicks

1067
00:29:21,120 --> 00:29:23,120
and spins with custom upswings we had

1068
00:29:23,120 --> 00:29:25,279
hard catch variations of the downswing

1069
00:29:25,279 --> 00:29:26,480
and all of these things could be played

1070
00:29:26,480 --> 00:29:28,399
with or without one another to get a

1071
00:29:28,399 --> 00:29:29,120
whole bunch of

1072
00:29:29,120 --> 00:29:30,799
custom a whole bunch of custom swings

1073
00:29:30,799 --> 00:29:32,640
and unique swings that look different as

1074
00:29:32,640 --> 00:29:34,240
you went from one swing to the next and

1075
00:29:34,240 --> 00:29:35,360
add a lot more

1076
00:29:35,360 --> 00:29:37,039
texture and flavor to swinging in the

1077
00:29:37,039 --> 00:29:38,559
game

1078
00:29:38,559 --> 00:29:40,320
so this new iteration helped us solve

1079
00:29:40,320 --> 00:29:41,679
our major problems by allowing us to

1080
00:29:41,679 --> 00:29:43,440
create a lot more animation variety and

1081
00:29:43,440 --> 00:29:44,720
it also helped us eliminate the

1082
00:29:44,720 --> 00:29:46,399
animation scaling for the most notable

1083
00:29:46,399 --> 00:29:48,399
portion of the swing

1084
00:29:48,399 --> 00:29:50,080
so one final problem worth noting was

1085
00:29:50,080 --> 00:29:51,760
that with all of the various moves that

1086
00:29:51,760 --> 00:29:53,440
spider-man can do he would often end up

1087
00:29:53,440 --> 00:29:54,000
in poses

1088
00:29:54,000 --> 00:29:56,080
that didn't really play nicely with our

1089
00:29:56,080 --> 00:29:57,520
swing intro animations

1090
00:29:57,520 --> 00:29:59,120
we needed to either wait for the

1091
00:29:59,120 --> 00:30:00,320
animation to get to a point where the

1092
00:30:00,320 --> 00:30:01,600
character could blend

1093
00:30:01,600 --> 00:30:03,840
into the intro better or live with

1094
00:30:03,840 --> 00:30:05,600
really really bad looking blends as we

1095
00:30:05,600 --> 00:30:07,760
tried to get into those sling animations

1096
00:30:07,760 --> 00:30:09,840
so to solve this animation wanted to add

1097
00:30:09,840 --> 00:30:12,159
a lot more variety to swing intros

1098
00:30:12,159 --> 00:30:13,520
but programming didn't really want to

1099
00:30:13,520 --> 00:30:15,919
manage each of those clips manually

1100
00:30:15,919 --> 00:30:17,600
so to push that work over to the content

1101
00:30:17,600 --> 00:30:19,600
creators we added a data driven setup

1102
00:30:19,600 --> 00:30:21,679
that allowed animators to tell the game

1103
00:30:21,679 --> 00:30:23,679
what the next animation would be

1104
00:30:23,679 --> 00:30:24,960
from the current time in the active

1105
00:30:24,960 --> 00:30:26,720
animation they'd mark up the section of

1106
00:30:26,720 --> 00:30:28,240
a jump animation with data that would

1107
00:30:28,240 --> 00:30:30,000
point to custom slinging animations

1108
00:30:30,000 --> 00:30:31,840
and this allowed them to cleanly get of

1109
00:30:31,840 --> 00:30:33,039
all these out of all these crazy

1110
00:30:33,039 --> 00:30:34,320
acrobatic poses

1111
00:30:34,320 --> 00:30:35,679
with custom slings that made the

1112
00:30:35,679 --> 00:30:37,440
traversal feel a lot more seamless and

1113
00:30:37,440 --> 00:30:40,240
the character feel a lot more dynamic

1114
00:30:40,240 --> 00:30:41,760
so kind of stepping away now from

1115
00:30:41,760 --> 00:30:43,520
animation i want to talk a bit about our

1116
00:30:43,520 --> 00:30:45,360
approach to the traversal camera

1117
00:30:45,360 --> 00:30:47,200
we knew from previous games that good

1118
00:30:47,200 --> 00:30:49,679
motion and animation only goes so far in

1119
00:30:49,679 --> 00:30:51,760
translating the experience to the player

1120
00:30:51,760 --> 00:30:53,760
the camera is actually often most the

1121
00:30:53,760 --> 00:30:55,360
most important aspect and conveying

1122
00:30:55,360 --> 00:30:57,360
elements of speed and translation

1123
00:30:57,360 --> 00:30:58,799
in a way that gives the player that kind

1124
00:30:58,799 --> 00:31:01,200
of visceral connection to the action

1125
00:31:01,200 --> 00:31:02,799
that's on the screen

1126
00:31:02,799 --> 00:31:04,720
so when we started out our top level

1127
00:31:04,720 --> 00:31:06,559
goals for the traversal camera

1128
00:31:06,559 --> 00:31:08,399
we came up with three main items that we

1129
00:31:08,399 --> 00:31:10,320
found important after early prototyping

1130
00:31:10,320 --> 00:31:12,480
with kind of a mostly static camera

1131
00:31:12,480 --> 00:31:14,080
first we wanted to minimize the amount

1132
00:31:14,080 --> 00:31:15,519
of player input was required

1133
00:31:15,519 --> 00:31:16,880
this is because players would often need

1134
00:31:16,880 --> 00:31:18,159
to be using the face buttons and we

1135
00:31:18,159 --> 00:31:19,279
didn't want to require them to have to

1136
00:31:19,279 --> 00:31:21,200
switch between that and the stick input

1137
00:31:21,200 --> 00:31:22,559
that was just a lot of camera management

1138
00:31:22,559 --> 00:31:24,880
that we didn't want people to mess with

1139
00:31:24,880 --> 00:31:26,320
next we needed to accentuate the

1140
00:31:26,320 --> 00:31:28,000
pendulum motion and the forces on the

1141
00:31:28,000 --> 00:31:28,720
line

1142
00:31:28,720 --> 00:31:30,399
and finally we wanted to communicate a

1143
00:31:30,399 --> 00:31:32,720
sense of speed to the player

1144
00:31:32,720 --> 00:31:34,399
so we have a pretty long history of

1145
00:31:34,399 --> 00:31:36,080
third-person games at insomniac and

1146
00:31:36,080 --> 00:31:37,600
we've generally started with a follow

1147
00:31:37,600 --> 00:31:38,960
camera model that tries to have the

1148
00:31:38,960 --> 00:31:40,000
camera looking

1149
00:31:40,000 --> 00:31:41,519
in the same direction as the hero's

1150
00:31:41,519 --> 00:31:43,840
velocity so while successful in other

1151
00:31:43,840 --> 00:31:44,559
games

1152
00:31:44,559 --> 00:31:46,399
in other contexts it did present a few

1153
00:31:46,399 --> 00:31:48,159
problems for spider-man particularly

1154
00:31:48,159 --> 00:31:48,720
with

1155
00:31:48,720 --> 00:31:50,240
at the high speeds that spider-man could

1156
00:31:50,240 --> 00:31:52,000
move and how much we had to let you see

1157
00:31:52,000 --> 00:31:53,440
where you were going

1158
00:31:53,440 --> 00:31:55,200
so the biggest issue was that when we

1159
00:31:55,200 --> 00:31:56,640
tuned it effectively

1160
00:31:56,640 --> 00:32:00,000
um you you were to where you were going

1161
00:32:00,000 --> 00:32:01,840
it was extremely susceptible to these

1162
00:32:01,840 --> 00:32:03,600
sudden these sudden changes in velocity

1163
00:32:03,600 --> 00:32:05,120
causing large changes in view direction

1164
00:32:05,120 --> 00:32:06,399
the camera just swing around

1165
00:32:06,399 --> 00:32:08,159
incessantly on people this had this

1166
00:32:08,159 --> 00:32:09,760
feedback loop with camera relative

1167
00:32:09,760 --> 00:32:10,960
controls where the camera would change a

1168
00:32:10,960 --> 00:32:12,240
lot which would change your input a lot

1169
00:32:12,240 --> 00:32:13,919
change your camera a lot and you just

1170
00:32:13,919 --> 00:32:15,919
get into this death spiral

1171
00:32:15,919 --> 00:32:17,760
so in order to fix the problem we move

1172
00:32:17,760 --> 00:32:19,679
to a model based on the player more

1173
00:32:19,679 --> 00:32:21,919
dragging the camera around this was done

1174
00:32:21,919 --> 00:32:23,519
by we'd predict the player's position

1175
00:32:23,519 --> 00:32:24,880
based on their current speed and then

1176
00:32:24,880 --> 00:32:26,559
we'd use that to calculate how it would

1177
00:32:26,559 --> 00:32:27,120
drag

1178
00:32:27,120 --> 00:32:29,039
more of a camera boom and how that would

1179
00:32:29,039 --> 00:32:30,320
change the rotation

1180
00:32:30,320 --> 00:32:31,840
this ended up being a lot less noisy

1181
00:32:31,840 --> 00:32:33,840
with velocity changes as the frame of it

1182
00:32:33,840 --> 00:32:35,279
as the frame to frame delta was

1183
00:32:35,279 --> 00:32:37,760
generally a whole lot smaller

1184
00:32:37,760 --> 00:32:39,519
so with the camera now following us more

1185
00:32:39,519 --> 00:32:41,120
appropriately i want to talk a bit about

1186
00:32:41,120 --> 00:32:43,279
how we accentuate the pendulum motion

1187
00:32:43,279 --> 00:32:45,039
on the of the player through camera

1188
00:32:45,039 --> 00:32:46,880
motion in addition to just

1189
00:32:46,880 --> 00:32:48,480
feeling better this also actually helped

1190
00:32:48,480 --> 00:32:50,480
address two major usability issues

1191
00:32:50,480 --> 00:32:52,720
that a more stan more static camera was

1192
00:32:52,720 --> 00:32:53,679
presenting

1193
00:32:53,679 --> 00:32:55,840
first as stated before players weren't

1194
00:32:55,840 --> 00:32:57,279
really noticing the full extent of

1195
00:32:57,279 --> 00:32:58,799
vertical translation the character was

1196
00:32:58,799 --> 00:33:00,159
actually performing

1197
00:33:00,159 --> 00:33:01,760
players were also presenting a really

1198
00:33:01,760 --> 00:33:03,360
poor level of comprehension of where

1199
00:33:03,360 --> 00:33:03,600
they

1200
00:33:03,600 --> 00:33:05,679
actually were in the swing arc they were

1201
00:33:05,679 --> 00:33:07,440
frequently hanging on for too long

1202
00:33:07,440 --> 00:33:08,399
releasing high

1203
00:33:08,399 --> 00:33:10,000
losing all the forward momentum and

1204
00:33:10,000 --> 00:33:12,240
wondering when the hell happened

1205
00:33:12,240 --> 00:33:14,240
so the first thing we manipulate to help

1206
00:33:14,240 --> 00:33:16,159
sell the swing arc is the camera's pitch

1207
00:33:16,159 --> 00:33:18,240
we try and roughly match uh the swing

1208
00:33:18,240 --> 00:33:20,080
arcs pitch in order to feel that motion

1209
00:33:20,080 --> 00:33:21,919
through the camera as you can see here

1210
00:33:21,919 --> 00:33:23,360
we want to keep the pitch a little more

1211
00:33:23,360 --> 00:33:24,000
flattened off

1212
00:33:24,000 --> 00:33:25,360
on the downswing so that you can keep

1213
00:33:25,360 --> 00:33:26,960
your eyes on the horizon and keep an eye

1214
00:33:26,960 --> 00:33:28,159
on where you're going

1215
00:33:28,159 --> 00:33:30,559
and then on the upswing we tend to

1216
00:33:30,559 --> 00:33:32,640
exaggerate the pitch a little bit

1217
00:33:32,640 --> 00:33:34,399
in order to communicate that rise more

1218
00:33:34,399 --> 00:33:35,600
effectively and let them feel like

1219
00:33:35,600 --> 00:33:37,200
they're moving up without getting too

1220
00:33:37,200 --> 00:33:39,120
far into the upswing

1221
00:33:39,120 --> 00:33:41,039
so the next element we added to help the

1222
00:33:41,039 --> 00:33:42,559
player feel the swing arc more was to

1223
00:33:42,559 --> 00:33:44,080
move the character's position and screen

1224
00:33:44,080 --> 00:33:45,200
space down and then

1225
00:33:45,200 --> 00:33:47,120
back up over the course of the swing

1226
00:33:47,120 --> 00:33:48,799
this created kind of a real world

1227
00:33:48,799 --> 00:33:50,399
physical tracking response from the

1228
00:33:50,399 --> 00:33:50,880
player

1229
00:33:50,880 --> 00:33:52,640
that would reinforce the in-game motion

1230
00:33:52,640 --> 00:33:53,919
as they kind of looked down and looked

1231
00:33:53,919 --> 00:33:55,360
up with the player with the character

1232
00:33:55,360 --> 00:33:57,120
moving on screen

1233
00:33:57,120 --> 00:33:58,640
so when it came to turning we really

1234
00:33:58,640 --> 00:34:00,720
wanted to get that get players to feel

1235
00:34:00,720 --> 00:34:01,840
that they were kind of whipping around a

1236
00:34:01,840 --> 00:34:02,880
corner at high speed

1237
00:34:02,880 --> 00:34:04,480
and bringing that same sensation you get

1238
00:34:04,480 --> 00:34:05,919
when you're kind of in a turning car

1239
00:34:05,919 --> 00:34:07,279
leading to the side

1240
00:34:07,279 --> 00:34:08,960
and to get this effect we apply a little

1241
00:34:08,960 --> 00:34:10,879
bit of roll to the camera when turning

1242
00:34:10,879 --> 00:34:12,560
and scale it based on the line angle and

1243
00:34:12,560 --> 00:34:13,599
turn speed

1244
00:34:13,599 --> 00:34:15,440
but a word of caution here we did have

1245
00:34:15,440 --> 00:34:16,960
to be careful not to push it too far due

1246
00:34:16,960 --> 00:34:18,399
to motion sickness concerns

1247
00:34:18,399 --> 00:34:19,918
we did add an option to scale it down or

1248
00:34:19,918 --> 00:34:21,839
turn it off entirely for people that had

1249
00:34:21,839 --> 00:34:24,239
problems with that so now that we have

1250
00:34:24,239 --> 00:34:25,359
players feeling the translation and

1251
00:34:25,359 --> 00:34:26,719
traversal we need to make sure that they

1252
00:34:26,719 --> 00:34:28,320
actually felt the speed

1253
00:34:28,320 --> 00:34:30,480
so this means we needed to layer as many

1254
00:34:30,480 --> 00:34:32,079
visual cues as possible to help

1255
00:34:32,079 --> 00:34:34,079
sell not just the current speed but

1256
00:34:34,079 --> 00:34:35,918
changes in speed

1257
00:34:35,918 --> 00:34:37,359
probably the most impactful thing to

1258
00:34:37,359 --> 00:34:38,879
sensing speed through the world is going

1259
00:34:38,879 --> 00:34:40,159
to be field of view

1260
00:34:40,159 --> 00:34:41,918
a wider field of view tends to elongate

1261
00:34:41,918 --> 00:34:43,359
objects in front of you making it feel

1262
00:34:43,359 --> 00:34:44,800
like you're covering more ground

1263
00:34:44,800 --> 00:34:46,560
and it also brings a lot of peripheral

1264
00:34:46,560 --> 00:34:47,599
objects into view that are going to be

1265
00:34:47,599 --> 00:34:48,079
moving

1266
00:34:48,079 --> 00:34:49,839
really fast by you so you get a lot more

1267
00:34:49,839 --> 00:34:51,760
of that relative motion feel

1268
00:34:51,760 --> 00:34:53,199
in order to really sell the changes in

1269
00:34:53,199 --> 00:34:54,719
speed we're constantly updating the

1270
00:34:54,719 --> 00:34:57,119
game's field of view while traversing

1271
00:34:57,119 --> 00:34:58,640
to deal with sudden speed changes we

1272
00:34:58,640 --> 00:34:59,839
rely more on actually adjusting the

1273
00:34:59,839 --> 00:35:01,520
camera's follow distance as

1274
00:35:01,520 --> 00:35:02,720
you don't want to bounce field of view

1275
00:35:02,720 --> 00:35:04,960
around too much it gets really weird um

1276
00:35:04,960 --> 00:35:06,720
we have certain kind of explosive moves

1277
00:35:06,720 --> 00:35:07,839
that create a spring action on the

1278
00:35:07,839 --> 00:35:09,760
camera so that it falls back

1279
00:35:09,760 --> 00:35:11,520
before blending closer again this gives

1280
00:35:11,520 --> 00:35:13,599
those moves much bigger sense of impact

1281
00:35:13,599 --> 00:35:14,880
like the characters boosting away

1282
00:35:14,880 --> 00:35:16,400
suddenly leaving the camera in the dust

1283
00:35:16,400 --> 00:35:17,599
and then it has to play catch up a

1284
00:35:17,599 --> 00:35:19,040
little bit

1285
00:35:19,040 --> 00:35:20,400
so here you'll be able to see all that

1286
00:35:20,400 --> 00:35:21,680
coming together to show the sense of

1287
00:35:21,680 --> 00:35:22,320
speed

1288
00:35:22,320 --> 00:35:23,359
there's a little bit of depot here on

1289
00:35:23,359 --> 00:35:24,640
the side to give you a better idea of

1290
00:35:24,640 --> 00:35:25,839
how the field of view and follow

1291
00:35:25,839 --> 00:35:27,520
distance are changing as it goes through

1292
00:35:27,520 --> 00:35:31,839
the action

1293
00:35:42,839 --> 00:35:45,680
good

1294
00:35:45,680 --> 00:35:47,839
all right so the final bit of camera

1295
00:35:47,839 --> 00:35:49,040
development i want to talk about

1296
00:35:49,040 --> 00:35:51,200
is related to how the camera is handled

1297
00:35:51,200 --> 00:35:52,880
when we perform a variety of traversal

1298
00:35:52,880 --> 00:35:53,599
moves

1299
00:35:53,599 --> 00:35:54,960
so our first version of the traversal

1300
00:35:54,960 --> 00:35:56,640
camera treated each move as its kind of

1301
00:35:56,640 --> 00:35:57,280
special

1302
00:35:57,280 --> 00:35:59,520
unique item this was driven by a desire

1303
00:35:59,520 --> 00:36:01,280
to make every move as cinematic as

1304
00:36:01,280 --> 00:36:02,320
possible with the thought that if you

1305
00:36:02,320 --> 00:36:03,359
string together a bunch of really

1306
00:36:03,359 --> 00:36:04,480
cinematic moves you're going to get

1307
00:36:04,480 --> 00:36:06,880
something extra special super cinematic

1308
00:36:06,880 --> 00:36:08,400
this presented a couple of problems

1309
00:36:08,400 --> 00:36:10,640
though in this video

1310
00:36:10,640 --> 00:36:13,440
from an early vertical slice you'll see

1311
00:36:13,440 --> 00:36:14,880
some of the issues with the everything

1312
00:36:14,880 --> 00:36:16,079
as a special snowflake

1313
00:36:16,079 --> 00:36:18,400
and how that kind of breaks down you'll

1314
00:36:18,400 --> 00:36:19,920
see that going from move to move

1315
00:36:19,920 --> 00:36:21,599
would cause a change in framing and

1316
00:36:21,599 --> 00:36:22,960
field of view that could kind of muddle

1317
00:36:22,960 --> 00:36:24,400
the perception of speed

1318
00:36:24,400 --> 00:36:26,079
and rapid sequencing of moves would

1319
00:36:26,079 --> 00:36:28,079
create a very noisy relationship between

1320
00:36:28,079 --> 00:36:41,839
the world the character and the view

1321
00:36:49,520 --> 00:36:52,000
so how do we get better well we started

1322
00:36:52,000 --> 00:36:54,160
with a more unified model for our all of

1323
00:36:54,160 --> 00:36:55,920
our traversal moves that had a speed

1324
00:36:55,920 --> 00:36:57,920
driven field of view and follow distance

1325
00:36:57,920 --> 00:37:00,000
that would stay consistent across all of

1326
00:37:00,000 --> 00:37:01,839
the different moves

1327
00:37:01,839 --> 00:37:03,760
we also smoothed out any adjustments we

1328
00:37:03,760 --> 00:37:05,119
were doing to offsets to make those

1329
00:37:05,119 --> 00:37:06,960
changes feel less aggressive and

1330
00:37:06,960 --> 00:37:10,320
not kind of upset the player so here

1331
00:37:10,320 --> 00:37:11,680
you're gonna see that we got ended up

1332
00:37:11,680 --> 00:37:13,359
getting some pretty good results

1333
00:37:13,359 --> 00:37:14,560
uh you're gonna get a lot more

1334
00:37:14,560 --> 00:37:16,240
consistent perception of speed when

1335
00:37:16,240 --> 00:37:17,760
moving from one move to another

1336
00:37:17,760 --> 00:37:19,040
the camera ends up being a lot more

1337
00:37:19,040 --> 00:37:20,960
predictable to the player and one move

1338
00:37:20,960 --> 00:37:22,000
flows into the next without

1339
00:37:22,000 --> 00:37:23,200
feeling like there's a major state

1340
00:37:23,200 --> 00:37:24,480
change that the player has to suddenly

1341
00:37:24,480 --> 00:37:25,359
adjust to

1342
00:37:25,359 --> 00:37:26,320
this proved a lot more fun and

1343
00:37:26,320 --> 00:37:27,599
predictable to players and gave an

1344
00:37:27,599 --> 00:37:37,839
overall better experience

1345
00:37:48,079 --> 00:37:51,040
all right so as we started to get a full

1346
00:37:51,040 --> 00:37:52,720
set of traversal moves in the game and

1347
00:37:52,720 --> 00:37:54,640
playing with them more both internally

1348
00:37:54,640 --> 00:37:56,400
and through usability we found that

1349
00:37:56,400 --> 00:37:58,320
unsurprisingly our first version was

1350
00:37:58,320 --> 00:37:59,599
rarely good enough

1351
00:37:59,599 --> 00:38:00,960
so this led to a lot of feedback that

1352
00:38:00,960 --> 00:38:03,119
motion felt stiff and imprecise

1353
00:38:03,119 --> 00:38:04,720
players weren't able to navigate as well

1354
00:38:04,720 --> 00:38:06,000
as they wanted a lot of moves weren't

1355
00:38:06,000 --> 00:38:07,359
matching expectations

1356
00:38:07,359 --> 00:38:08,880
and they were unable to actually land

1357
00:38:08,880 --> 00:38:10,560
where they wanted to so we started kind

1358
00:38:10,560 --> 00:38:12,400
of revisiting things

1359
00:38:12,400 --> 00:38:14,560
so with wall run our first pass was set

1360
00:38:14,560 --> 00:38:16,079
up to actually be locked to either be

1361
00:38:16,079 --> 00:38:17,599
horizontal or vertical with no

1362
00:38:17,599 --> 00:38:20,160
in between and no ability to switch the

1363
00:38:20,160 --> 00:38:21,680
entry was based on a combination of

1364
00:38:21,680 --> 00:38:22,640
character velocity

1365
00:38:22,640 --> 00:38:24,960
input direction the walls facing and it

1366
00:38:24,960 --> 00:38:26,640
had a heavy bias towards maintaining

1367
00:38:26,640 --> 00:38:27,920
your current momentum

1368
00:38:27,920 --> 00:38:29,200
so if you're going really fast

1369
00:38:29,200 --> 00:38:30,640
horizontally you are really likely to

1370
00:38:30,640 --> 00:38:33,200
get a horizontal wall run

1371
00:38:33,200 --> 00:38:34,960
the single biggest problem we had was

1372
00:38:34,960 --> 00:38:36,640
that wall run entry direction was really

1373
00:38:36,640 --> 00:38:38,400
poorly mapped to player expectations

1374
00:38:38,400 --> 00:38:40,000
they never really understood the concept

1375
00:38:40,000 --> 00:38:41,680
of momentum driving the entry direction

1376
00:38:41,680 --> 00:38:43,440
and how that overwhelmed their input

1377
00:38:43,440 --> 00:38:44,800
this was made even worse because there

1378
00:38:44,800 --> 00:38:46,320
was just no ability to switch from

1379
00:38:46,320 --> 00:38:47,680
horizontal to vertical

1380
00:38:47,680 --> 00:38:49,680
if they didn't get what they wanted and

1381
00:38:49,680 --> 00:38:51,200
on top of that the camera direction

1382
00:38:51,200 --> 00:38:52,720
versus a vertical wall

1383
00:38:52,720 --> 00:38:54,800
was making input to entry mapping even

1384
00:38:54,800 --> 00:38:56,160
more confusing

1385
00:38:56,160 --> 00:38:58,400
can you tell me in this image pushing up

1386
00:38:58,400 --> 00:38:59,599
on the stick is that supposed to make

1387
00:38:59,599 --> 00:39:00,000
you go

1388
00:39:00,000 --> 00:39:02,800
forward or up a lot of players had

1389
00:39:02,800 --> 00:39:03,920
didn't really know what they wanted to

1390
00:39:03,920 --> 00:39:05,440
do in that situation

1391
00:39:05,440 --> 00:39:07,119
so players would often try to compensate

1392
00:39:07,119 --> 00:39:08,720
for this by pointing the camera where

1393
00:39:08,720 --> 00:39:09,760
they wanted to go

1394
00:39:09,760 --> 00:39:11,599
but the system was paying zero attention

1395
00:39:11,599 --> 00:39:13,280
to the camera and so it wasn't helping

1396
00:39:13,280 --> 00:39:14,240
them

1397
00:39:14,240 --> 00:39:15,920
so with our big problems identified we

1398
00:39:15,920 --> 00:39:17,920
set out to make some changes

1399
00:39:17,920 --> 00:39:19,680
the first thing we did was to add analog

1400
00:39:19,680 --> 00:39:20,960
steering this created a lot more

1401
00:39:20,960 --> 00:39:22,560
in-between values for entry direction

1402
00:39:22,560 --> 00:39:24,079
as well as giving players the ability to

1403
00:39:24,079 --> 00:39:25,680
adjust on the fly if they weren't happy

1404
00:39:25,680 --> 00:39:27,440
with their entry direction

1405
00:39:27,440 --> 00:39:29,040
then we revisited our entry direction

1406
00:39:29,040 --> 00:39:30,720
process as a whole we added a

1407
00:39:30,720 --> 00:39:32,400
camera-driven influence to help players

1408
00:39:32,400 --> 00:39:34,240
uh to help translate player intent to

1409
00:39:34,240 --> 00:39:35,839
in-game results and we then

1410
00:39:35,839 --> 00:39:37,200
significantly amped up the effect of

1411
00:39:37,200 --> 00:39:39,760
player input over momentum so that they

1412
00:39:39,760 --> 00:39:41,359
had a lot more control over the results

1413
00:39:41,359 --> 00:39:43,760
and what happened get on the output

1414
00:39:43,760 --> 00:39:45,200
so these combined to result in a

1415
00:39:45,200 --> 00:39:46,480
significant reduction in player

1416
00:39:46,480 --> 00:39:48,079
frustration

1417
00:39:48,079 --> 00:39:49,839
so for in-air control once they're off

1418
00:39:49,839 --> 00:39:51,200
the line just flying through the air

1419
00:39:51,200 --> 00:39:54,320
we wanted the player to have an initial

1420
00:39:54,320 --> 00:39:55,520
or we had an initial approach that

1421
00:39:55,520 --> 00:39:57,280
heavily flavored momentum again we were

1422
00:39:57,280 --> 00:39:58,560
looking at that momentum thing over and

1423
00:39:58,560 --> 00:40:00,079
over again in the first rev

1424
00:40:00,079 --> 00:40:01,599
so this meant that in air steering was

1425
00:40:01,599 --> 00:40:03,440
fairly stiff and players needed to rely

1426
00:40:03,440 --> 00:40:04,800
on web moves like webs

1427
00:40:04,800 --> 00:40:06,400
like swinging and web zip for rapid

1428
00:40:06,400 --> 00:40:08,640
direction change the idea was that would

1429
00:40:08,640 --> 00:40:10,400
make your swing releases more meaningful

1430
00:40:10,400 --> 00:40:12,160
and consequential

1431
00:40:12,160 --> 00:40:13,599
but this model presented a number of

1432
00:40:13,599 --> 00:40:14,960
problems in play testing much like

1433
00:40:14,960 --> 00:40:16,800
everything else seems to

1434
00:40:16,800 --> 00:40:19,520
the first first swing speeds amplify

1435
00:40:19,520 --> 00:40:20,960
small differences in angle

1436
00:40:20,960 --> 00:40:23,760
over large over large distances this

1437
00:40:23,760 --> 00:40:25,680
made it almost impossible to be precise

1438
00:40:25,680 --> 00:40:26,079
if you

1439
00:40:26,079 --> 00:40:27,359
if you tried to release off a line and

1440
00:40:27,359 --> 00:40:29,280
you saw something in the distance little

1441
00:40:29,280 --> 00:40:31,040
variations in that angle would cause

1442
00:40:31,040 --> 00:40:33,599
big variations in where you ended up in

1443
00:40:33,599 --> 00:40:34,079
addition

1444
00:40:34,079 --> 00:40:36,000
players were really just terrible at

1445
00:40:36,000 --> 00:40:37,920
thinking ahead to manage their speed

1446
00:40:37,920 --> 00:40:39,599
while there are tools to slow down they

1447
00:40:39,599 --> 00:40:40,400
generally go as

1448
00:40:40,400 --> 00:40:42,400
fast as possible to their destination

1449
00:40:42,400 --> 00:40:43,760
and only once they're there do they try

1450
00:40:43,760 --> 00:40:44,560
and stop

1451
00:40:44,560 --> 00:40:45,760
this usually ends up with the player

1452
00:40:45,760 --> 00:40:47,280
kind of fumbling around and orbiting

1453
00:40:47,280 --> 00:40:48,560
their destination as they try and get

1454
00:40:48,560 --> 00:40:50,960
closer and just having a bad time

1455
00:40:50,960 --> 00:40:52,400
so finally players were having a lot of

1456
00:40:52,400 --> 00:40:54,480
difficulty reacting quickly to changes

1457
00:40:54,480 --> 00:40:55,599
in situation or

1458
00:40:55,599 --> 00:40:58,800
geometry so in order to help solve these

1459
00:40:58,800 --> 00:41:00,560
problems we had to put more control

1460
00:41:00,560 --> 00:41:02,400
back in players hands and let go of some

1461
00:41:02,400 --> 00:41:03,839
of our really strict momentum-based

1462
00:41:03,839 --> 00:41:04,880
concepts

1463
00:41:04,880 --> 00:41:06,720
to start we significantly increased the

1464
00:41:06,720 --> 00:41:08,400
nr turn speeds this immediately helped

1465
00:41:08,400 --> 00:41:09,760
players react a lot more quickly to

1466
00:41:09,760 --> 00:41:10,960
dynamic elements

1467
00:41:10,960 --> 00:41:12,560
and it also allowed people to more

1468
00:41:12,560 --> 00:41:14,160
effectively set up their next move

1469
00:41:14,160 --> 00:41:16,079
increasing their ability to chain moves

1470
00:41:16,079 --> 00:41:17,680
and just basically use the full suite of

1471
00:41:17,680 --> 00:41:19,760
traversal elements

1472
00:41:19,760 --> 00:41:21,680
later on we massively increase the

1473
00:41:21,680 --> 00:41:23,520
amount of drag applied to the

1474
00:41:23,520 --> 00:41:25,200
to the player when pulling back on the

1475
00:41:25,200 --> 00:41:27,200
stick this let players feel a lot more

1476
00:41:27,200 --> 00:41:28,319
precise when they were reaching their

1477
00:41:28,319 --> 00:41:29,599
destination because they could go from

1478
00:41:29,599 --> 00:41:32,079
60 to zero in a very short time

1479
00:41:32,079 --> 00:41:33,440
overall this led to a lot fewer

1480
00:41:33,440 --> 00:41:35,359
instances of players fumbling around

1481
00:41:35,359 --> 00:41:36,720
their destination and let people feel

1482
00:41:36,720 --> 00:41:37,680
like they could kind of stick the

1483
00:41:37,680 --> 00:41:39,280
landing

1484
00:41:39,280 --> 00:41:41,520
so the next thing we need to address uh

1485
00:41:41,520 --> 00:41:42,800
from specific was our

1486
00:41:42,800 --> 00:41:45,280
more specific world interaction moves so

1487
00:41:45,280 --> 00:41:46,560
when we started making the game

1488
00:41:46,560 --> 00:41:48,240
we knew that we wanted to make the city

1489
00:41:48,240 --> 00:41:50,000
feel like a big part of traversal

1490
00:41:50,000 --> 00:41:51,440
and spider-man's interaction with the

1491
00:41:51,440 --> 00:41:53,119
world needed to be tangible

1492
00:41:53,119 --> 00:41:54,880
and while swinging and web zip did

1493
00:41:54,880 --> 00:41:56,640
require geometry to work

1494
00:41:56,640 --> 00:41:57,839
you were still kind of mid-air and

1495
00:41:57,839 --> 00:41:59,599
disconnected when using them we wanted

1496
00:41:59,599 --> 00:42:01,200
something that was a little more tactile

1497
00:42:01,200 --> 00:42:03,760
so our first version was zipping through

1498
00:42:03,760 --> 00:42:05,440
the legs of a water tower with our web

1499
00:42:05,440 --> 00:42:06,400
tunnel move

1500
00:42:06,400 --> 00:42:07,760
this was really cinematic from a

1501
00:42:07,760 --> 00:42:09,359
presentation standpoint and it really

1502
00:42:09,359 --> 00:42:10,800
fulfilled the fantasy of interacting

1503
00:42:10,800 --> 00:42:12,240
with those specific objects

1504
00:42:12,240 --> 00:42:14,640
but it did have a few shortcomings the

1505
00:42:14,640 --> 00:42:16,240
first problem is that the move has a

1506
00:42:16,240 --> 00:42:18,000
pretty rigid directionality

1507
00:42:18,000 --> 00:42:19,599
there wasn't a lot of room for players

1508
00:42:19,599 --> 00:42:21,119
to modify the direction going through

1509
00:42:21,119 --> 00:42:22,079
the object because it was

1510
00:42:22,079 --> 00:42:24,400
a fixed structure and in addition the

1511
00:42:24,400 --> 00:42:25,920
entry angles were pretty limited you

1512
00:42:25,920 --> 00:42:27,520
could only engage the web tunnel from a

1513
00:42:27,520 --> 00:42:28,720
limited angle range

1514
00:42:28,720 --> 00:42:30,160
before it started to look really weird

1515
00:42:30,160 --> 00:42:31,599
of kind of getting sucked in sideways

1516
00:42:31,599 --> 00:42:33,760
and turning through this thing

1517
00:42:33,760 --> 00:42:35,839
so in this case we recognize that web

1518
00:42:35,839 --> 00:42:37,599
tunnel had some inherent limitations

1519
00:42:37,599 --> 00:42:38,800
that we weren't going to be able to get

1520
00:42:38,800 --> 00:42:39,680
over

1521
00:42:39,680 --> 00:42:41,520
in addition we like to have we liked

1522
00:42:41,520 --> 00:42:43,200
having the move as it was for certain

1523
00:42:43,200 --> 00:42:44,800
situations that cinematic presentation

1524
00:42:44,800 --> 00:42:47,200
was really effective for certain things

1525
00:42:47,200 --> 00:42:49,040
so instead we created point launch a

1526
00:42:49,040 --> 00:42:50,480
move where you could zip to a point on

1527
00:42:50,480 --> 00:42:52,160
top of an object and then spring back

1528
00:42:52,160 --> 00:42:54,000
off instantly with a big jump

1529
00:42:54,000 --> 00:42:55,440
we were able to get the desired world

1530
00:42:55,440 --> 00:42:57,040
interaction we were looking for with web

1531
00:42:57,040 --> 00:42:58,319
tunnels along with a number of

1532
00:42:58,319 --> 00:42:59,920
additional benefits

1533
00:42:59,920 --> 00:43:01,359
first the player could enter and exit a

1534
00:43:01,359 --> 00:43:03,200
point launch from any direction

1535
00:43:03,200 --> 00:43:05,119
and because we needed just a point the

1536
00:43:05,119 --> 00:43:06,640
opportunity for placement in the world

1537
00:43:06,640 --> 00:43:06,960
had

1538
00:43:06,960 --> 00:43:09,520
increased dramatically so once point

1539
00:43:09,520 --> 00:43:10,960
launch was implemented we started to

1540
00:43:10,960 --> 00:43:12,560
notice that we had a lot of traversal

1541
00:43:12,560 --> 00:43:13,839
moves that were treating

1542
00:43:13,839 --> 00:43:15,520
that we were treating as unique we had

1543
00:43:15,520 --> 00:43:17,200
new names for them and we thought they

1544
00:43:17,200 --> 00:43:18,720
were all special but to the player they

1545
00:43:18,720 --> 00:43:20,240
all felt like the same thing in this

1546
00:43:20,240 --> 00:43:21,119
case that was

1547
00:43:21,119 --> 00:43:24,160
go to a thing so as you can see we had

1548
00:43:24,160 --> 00:43:26,400
separate unique button combinations for

1549
00:43:26,400 --> 00:43:28,640
going to a perch point launching and

1550
00:43:28,640 --> 00:43:30,960
zipping to a wall

1551
00:43:30,960 --> 00:43:32,640
to make things worse point launch only

1552
00:43:32,640 --> 00:43:34,000
worked on perches

1553
00:43:34,000 --> 00:43:36,319
which were a special kind of point but

1554
00:43:36,319 --> 00:43:37,599
we had a very similar move that worked

1555
00:43:37,599 --> 00:43:39,280
on perches and edges

1556
00:43:39,280 --> 00:43:40,560
and ultimately this led to a lot of

1557
00:43:40,560 --> 00:43:41,680
problems with the player's ability to

1558
00:43:41,680 --> 00:43:43,200
kind of mentally map these for this

1559
00:43:43,200 --> 00:43:45,200
variety of controls to what felt to them

1560
00:43:45,200 --> 00:43:46,720
like the same action so they'd fumble a

1561
00:43:46,720 --> 00:43:47,920
lot to the wrong thing

1562
00:43:47,920 --> 00:43:49,040
and just generally get themselves

1563
00:43:49,040 --> 00:43:51,599
screwed up so our solution was then to

1564
00:43:51,599 --> 00:43:52,079
merge

1565
00:43:52,079 --> 00:43:54,000
all of this into a single input space

1566
00:43:54,000 --> 00:43:55,520
using the triggers

1567
00:43:55,520 --> 00:43:57,119
this helped to ensure that the button to

1568
00:43:57,119 --> 00:43:58,880
action mapping in the player's brain was

1569
00:43:58,880 --> 00:44:00,160
a lot more one-to-one

1570
00:44:00,160 --> 00:44:01,440
however it's not just a matter of

1571
00:44:01,440 --> 00:44:03,200
merging buttons it's never that simple

1572
00:44:03,200 --> 00:44:04,720
it did require us to adapt some of the

1573
00:44:04,720 --> 00:44:06,480
moves as well

1574
00:44:06,480 --> 00:44:08,240
first we expanded point launch to work

1575
00:44:08,240 --> 00:44:09,920
on all edges uh which ended up being a

1576
00:44:09,920 --> 00:44:11,520
win for the player and we merged it with

1577
00:44:11,520 --> 00:44:12,640
zip to perch

1578
00:44:12,640 --> 00:44:14,880
we then moves it to wall to be an a-mode

1579
00:44:14,880 --> 00:44:16,800
only action so that its targeting didn't

1580
00:44:16,800 --> 00:44:18,079
conflict with the other moves that it

1581
00:44:18,079 --> 00:44:20,720
was sharing buttons with

1582
00:44:20,720 --> 00:44:23,040
so after iterating our controls by doing

1583
00:44:23,040 --> 00:44:24,480
things like changing buttons and adding

1584
00:44:24,480 --> 00:44:25,119
moves

1585
00:44:25,119 --> 00:44:26,560
there's a few major takeaways from this

1586
00:44:26,560 --> 00:44:28,480
section that i feel are pretty important

1587
00:44:28,480 --> 00:44:30,480
uh first if the player expectation and

1588
00:44:30,480 --> 00:44:32,640
system designs are not aligned then your

1589
00:44:32,640 --> 00:44:34,160
controls just fail and the player

1590
00:44:34,160 --> 00:44:35,520
experience is going to drop

1591
00:44:35,520 --> 00:44:36,880
we spent a lot of time giving

1592
00:44:36,880 --> 00:44:38,400
long-winded design reasons why our

1593
00:44:38,400 --> 00:44:40,800
controls were the way they were

1594
00:44:40,800 --> 00:44:42,480
when they started but ultimately players

1595
00:44:42,480 --> 00:44:44,000
will just never get the most out of a

1596
00:44:44,000 --> 00:44:46,160
system that they have trouble using

1597
00:44:46,160 --> 00:44:47,680
and the next lesson would be that trying

1598
00:44:47,680 --> 00:44:49,760
to add analog input and behavior to our

1599
00:44:49,760 --> 00:44:50,240
moves

1600
00:44:50,240 --> 00:44:52,319
helped add depth utility freedom and

1601
00:44:52,319 --> 00:44:54,000
flow to our moves and just increase the

1602
00:44:54,000 --> 00:44:56,079
players experience

1603
00:44:56,079 --> 00:44:58,480
so as we were getting towards the end of

1604
00:44:58,480 --> 00:45:00,160
production and our core mechanics were

1605
00:45:00,160 --> 00:45:02,319
all in place we started to drive down

1606
00:45:02,319 --> 00:45:04,079
to the next level of usability feedback

1607
00:45:04,079 --> 00:45:06,000
we found that players were still

1608
00:45:06,000 --> 00:45:07,359
feeling that the experience had a

1609
00:45:07,359 --> 00:45:09,280
somewhat kind of stuttery rhythm

1610
00:45:09,280 --> 00:45:10,800
where it would feel incredibly smooth at

1611
00:45:10,800 --> 00:45:12,480
times but they were kind of consistently

1612
00:45:12,480 --> 00:45:14,000
getting these little snags and hiccups

1613
00:45:14,000 --> 00:45:16,240
that were breaking their momentum

1614
00:45:16,240 --> 00:45:18,240
so as we kept gathering information we

1615
00:45:18,240 --> 00:45:19,920
found that most of the problems boiled

1616
00:45:19,920 --> 00:45:22,400
down to just a few cases across the city

1617
00:45:22,400 --> 00:45:24,240
in response we created a kind of small

1618
00:45:24,240 --> 00:45:25,680
palette of moves that would help

1619
00:45:25,680 --> 00:45:27,520
maintain flow to get around those rough

1620
00:45:27,520 --> 00:45:29,200
edges

1621
00:45:29,200 --> 00:45:30,960
many of these moves were designed to be

1622
00:45:30,960 --> 00:45:32,560
a natural extension from the character's

1623
00:45:32,560 --> 00:45:33,440
current action

1624
00:45:33,440 --> 00:45:35,280
so they didn't require any input one of

1625
00:45:35,280 --> 00:45:36,800
the players who feel like they were

1626
00:45:36,800 --> 00:45:38,400
expertly executing these moves that

1627
00:45:38,400 --> 00:45:40,640
would often require unnatural reflexes

1628
00:45:40,640 --> 00:45:43,119
if they wanted to execute them manually

1629
00:45:43,119 --> 00:45:44,960
so my first example here shows one of

1630
00:45:44,960 --> 00:45:46,160
our biggest issues

1631
00:45:46,160 --> 00:45:47,760
you'd kind of clip a corner causing a

1632
00:45:47,760 --> 00:45:49,440
short wall run that would then eject you

1633
00:45:49,440 --> 00:45:50,400
sideways

1634
00:45:50,400 --> 00:45:51,839
the sudden change in direction would

1635
00:45:51,839 --> 00:45:54,000
often surprise players and would frankly

1636
00:45:54,000 --> 00:45:55,760
frequently create situations that were

1637
00:45:55,760 --> 00:45:57,200
difficult to recover from

1638
00:45:57,200 --> 00:45:58,960
as they were kind of exiting at a high

1639
00:45:58,960 --> 00:46:00,319
enough velocity they'd often get clear

1640
00:46:00,319 --> 00:46:01,680
across the street before they knew what

1641
00:46:01,680 --> 00:46:03,599
the hell happened to them

1642
00:46:03,599 --> 00:46:05,200
so we kind of fixed this by adding just

1643
00:46:05,200 --> 00:46:06,880
a small little move to redirect you

1644
00:46:06,880 --> 00:46:07,680
parallel

1645
00:46:07,680 --> 00:46:09,760
to your incoming velocity if you were

1646
00:46:09,760 --> 00:46:11,280
only wall running for a really short

1647
00:46:11,280 --> 00:46:12,000
time

1648
00:46:12,000 --> 00:46:13,680
this very quickly got the player back in

1649
00:46:13,680 --> 00:46:15,359
action with a consistent reference

1650
00:46:15,359 --> 00:46:16,880
direction and they were able to just

1651
00:46:16,880 --> 00:46:19,280
get right back to what they were doing

1652
00:46:19,280 --> 00:46:21,440
so the next example looks more at a case

1653
00:46:21,440 --> 00:46:23,040
where players didn't really have a tool

1654
00:46:23,040 --> 00:46:24,800
to change direction easily

1655
00:46:24,800 --> 00:46:26,079
if a player was wall running up a

1656
00:46:26,079 --> 00:46:28,000
building and wanted to corner over it

1657
00:46:28,000 --> 00:46:29,280
they would have to clear the building

1658
00:46:29,280 --> 00:46:30,480
and then figure out what their next move

1659
00:46:30,480 --> 00:46:31,920
was once they could actually see what

1660
00:46:31,920 --> 00:46:32,960
was above them

1661
00:46:32,960 --> 00:46:34,640
this led to kind of this gap in flow

1662
00:46:34,640 --> 00:46:36,400
while players processed that view

1663
00:46:36,400 --> 00:46:39,440
and caused a lot of stall for them

1664
00:46:39,440 --> 00:46:40,960
to fix this we added a move that the

1665
00:46:40,960 --> 00:46:42,720
player could trigger before clearing the

1666
00:46:42,720 --> 00:46:43,200
wall

1667
00:46:43,200 --> 00:46:44,560
to get over the edge and redirect their

1668
00:46:44,560 --> 00:46:46,720
velocity all in one shot this added a

1669
00:46:46,720 --> 00:46:48,240
little layer of skill which was nice

1670
00:46:48,240 --> 00:46:49,839
and it added some depth while letting

1671
00:46:49,839 --> 00:46:51,440
players a lot more efficiently navigate

1672
00:46:51,440 --> 00:46:53,359
over these buildings

1673
00:46:53,359 --> 00:46:54,880
so a lot of our additional moves

1674
00:46:54,880 --> 00:46:56,160
centered around trying to traverse

1675
00:46:56,160 --> 00:46:56,880
through space

1676
00:46:56,880 --> 00:46:58,800
near walls and how that conflicts with

1677
00:46:58,800 --> 00:47:00,079
our art team's desire to have a lot of

1678
00:47:00,079 --> 00:47:01,839
stuff sticking out of those walls and

1679
00:47:01,839 --> 00:47:03,200
into our play space

1680
00:47:03,200 --> 00:47:05,280
the biggest factor here was fire escapes

1681
00:47:05,280 --> 00:47:06,720
it just didn't feel like new york

1682
00:47:06,720 --> 00:47:08,160
without them but they were basically the

1683
00:47:08,160 --> 00:47:09,760
total arch nemesis for the traversal

1684
00:47:09,760 --> 00:47:10,000
team

1685
00:47:10,000 --> 00:47:12,720
the entire production we ended up making

1686
00:47:12,720 --> 00:47:14,240
a lot of vaulting moves both from the

1687
00:47:14,240 --> 00:47:16,240
air and from wall run and from swing

1688
00:47:16,240 --> 00:47:17,760
to get around these as well as

1689
00:47:17,760 --> 00:47:19,599
completely custom ladder climbing web

1690
00:47:19,599 --> 00:47:20,480
move to kind of

1691
00:47:20,480 --> 00:47:21,920
climb them like a ladder up a fire

1692
00:47:21,920 --> 00:47:24,400
escape stack we also needed to deal with

1693
00:47:24,400 --> 00:47:25,680
signs hanging out of buildings

1694
00:47:25,680 --> 00:47:27,440
particularly in places like chinatown

1695
00:47:27,440 --> 00:47:29,200
and a lot of small little outcroppings

1696
00:47:29,200 --> 00:47:30,880
and changes in wall contour

1697
00:47:30,880 --> 00:47:32,319
that were too small to just wall run

1698
00:47:32,319 --> 00:47:34,640
over but they were too

1699
00:47:34,640 --> 00:47:36,640
big to just wall run over but too small

1700
00:47:36,640 --> 00:47:38,000
to actually run on

1701
00:47:38,000 --> 00:47:41,920
entirely so and today that wraps up our

1702
00:47:41,920 --> 00:47:43,280
journey that we went on with creating

1703
00:47:43,280 --> 00:47:44,880
traversal for marvel spider-man

1704
00:47:44,880 --> 00:47:46,640
we had a whole lot of fun along the way

1705
00:47:46,640 --> 00:47:48,079
working with such a great character but

1706
00:47:48,079 --> 00:47:49,200
there are definitely a few

1707
00:47:49,200 --> 00:47:50,960
key things i believe any developer can

1708
00:47:50,960 --> 00:47:53,359
learn from our experience here

1709
00:47:53,359 --> 00:47:55,760
first when creating mechanics start with

1710
00:47:55,760 --> 00:47:57,359
a simple implementation

1711
00:47:57,359 --> 00:47:59,119
and then add complexity only as you

1712
00:47:59,119 --> 00:48:00,559
uncover new problems

1713
00:48:00,559 --> 00:48:02,319
by keeping things simple early we were

1714
00:48:02,319 --> 00:48:04,400
able to avoid going too far down a path

1715
00:48:04,400 --> 00:48:06,000
that our players wouldn't respond to

1716
00:48:06,000 --> 00:48:07,119
which in many cases

1717
00:48:07,119 --> 00:48:09,040
kept us from wasting work we ended up

1718
00:48:09,040 --> 00:48:10,400
with a system that had a whole lot of

1719
00:48:10,400 --> 00:48:11,200
features

1720
00:48:11,200 --> 00:48:12,720
but many of the additions were things

1721
00:48:12,720 --> 00:48:14,960
that we could never have anticipated

1722
00:48:14,960 --> 00:48:18,559
needing or wanting ahead of time

1723
00:48:18,559 --> 00:48:20,400
second you have to stay flexible in your

1724
00:48:20,400 --> 00:48:22,079
approach to creating mechanics we were

1725
00:48:22,079 --> 00:48:23,680
initially really resistant to some of

1726
00:48:23,680 --> 00:48:25,440
the best changes because we had all the

1727
00:48:25,440 --> 00:48:27,119
design reasons listed out why it was

1728
00:48:27,119 --> 00:48:28,800
working like it was supposed to

1729
00:48:28,800 --> 00:48:30,319
and clearly it was the feedback that was

1730
00:48:30,319 --> 00:48:32,960
a problem by allowing the game to evolve

1731
00:48:32,960 --> 00:48:35,200
we came to a final product that was far

1732
00:48:35,200 --> 00:48:36,480
superior to what we thought was the

1733
00:48:36,480 --> 00:48:37,119
right approach

1734
00:48:37,119 --> 00:48:40,000
earlier in development and finally you

1735
00:48:40,000 --> 00:48:41,599
are your own worst tester and in some

1736
00:48:41,599 --> 00:48:43,119
cases the rest of your dev team quickly

1737
00:48:43,119 --> 00:48:45,200
catches up with being terrible

1738
00:48:45,200 --> 00:48:46,640
developers know exactly how their

1739
00:48:46,640 --> 00:48:48,319
systems work and they're just

1740
00:48:48,319 --> 00:48:50,000
and they're in the way they're supposed

1741
00:48:50,000 --> 00:48:51,920
to be used so when you play the game it

1742
00:48:51,920 --> 00:48:54,559
will often work exactly as you expected

1743
00:48:54,559 --> 00:48:55,920
different players will play the game in

1744
00:48:55,920 --> 00:48:57,599
wildly different ways and you'll never

1745
00:48:57,599 --> 00:48:59,200
know where the real problems and edge

1746
00:48:59,200 --> 00:49:00,960
cases are until you let them loosen your

1747
00:49:00,960 --> 00:49:01,680
game

1748
00:49:01,680 --> 00:49:03,599
even with external play testers you

1749
00:49:03,599 --> 00:49:05,040
should always challenge yourself

1750
00:49:05,040 --> 00:49:06,559
and others to try to play the game in

1751
00:49:06,559 --> 00:49:08,079
different ways and try and have a

1752
00:49:08,079 --> 00:49:09,680
different experience with the

1753
00:49:09,680 --> 00:49:11,839
mapping what your controls are into the

1754
00:49:11,839 --> 00:49:13,200
game

1755
00:49:13,200 --> 00:49:14,839
so that's it for me thanks so much for

1756
00:49:14,839 --> 00:49:17,839
coming

1757
00:49:24,559 --> 00:49:25,760
and it looks like we've got about 10

1758
00:49:25,760 --> 00:49:30,160
minutes for some q a

1759
00:49:30,160 --> 00:49:33,119
gonna start over here hello uh so the

1760
00:49:33,119 --> 00:49:34,559
problem space you're working in seemed

1761
00:49:34,559 --> 00:49:35,920
like it required like a ton of different

1762
00:49:35,920 --> 00:49:37,599
skill sets to effectively solve these

1763
00:49:37,599 --> 00:49:39,119
problems like cinematography

1764
00:49:39,119 --> 00:49:41,119
physics game design you know a whole

1765
00:49:41,119 --> 00:49:42,720
bunch of others how did you

1766
00:49:42,720 --> 00:49:44,319
what was like the composition of your

1767
00:49:44,319 --> 00:49:45,839
team like and how did you kind of

1768
00:49:45,839 --> 00:49:47,280
effectively organize around these

1769
00:49:47,280 --> 00:49:48,880
different skill sets to solve these

1770
00:49:48,880 --> 00:49:49,599
problems

1771
00:49:49,599 --> 00:49:51,839
so um we had what we call the traversal

1772
00:49:51,839 --> 00:49:53,680
pod which consisted of

1773
00:49:53,680 --> 00:49:55,200
a couple of programmers a handful of

1774
00:49:55,200 --> 00:49:57,280
animators a designer

1775
00:49:57,280 --> 00:49:59,280
as well as just everybody else looking

1776
00:49:59,280 --> 00:50:00,800
at traversal in general so we'd have

1777
00:50:00,800 --> 00:50:02,000
effects people that would come in and

1778
00:50:02,000 --> 00:50:03,280
help with effects

1779
00:50:03,280 --> 00:50:05,440
our animation director would also kind

1780
00:50:05,440 --> 00:50:06,240
of be looking at things from a

1781
00:50:06,240 --> 00:50:08,079
cinematography standpoint as well as our

1782
00:50:08,079 --> 00:50:09,680
you know the animators in the traversal

1783
00:50:09,680 --> 00:50:11,920
pod and so it was really just getting it

1784
00:50:11,920 --> 00:50:12,400
was an

1785
00:50:12,400 --> 00:50:14,079
extremely collaborative environment and

1786
00:50:14,079 --> 00:50:15,760
getting all the different people from

1787
00:50:15,760 --> 00:50:16,960
all the different disciplines with

1788
00:50:16,960 --> 00:50:18,559
eyeballs on it and everybody looking for

1789
00:50:18,559 --> 00:50:20,160
ways to give input on how to improve

1790
00:50:20,160 --> 00:50:21,359
things

1791
00:50:21,359 --> 00:50:23,599
thanks

1792
00:50:24,559 --> 00:50:26,880
i was it any uh inspiration draw from

1793
00:50:26,880 --> 00:50:28,640
spider-man 2's web slinging

1794
00:50:28,640 --> 00:50:31,599
mechanics uh i mean we early on we

1795
00:50:31,599 --> 00:50:33,440
definitely played all of the games

1796
00:50:33,440 --> 00:50:35,359
um you know spider-man 2 did a lot of

1797
00:50:35,359 --> 00:50:36,720
really great things so did ultimate

1798
00:50:36,720 --> 00:50:38,960
spider-man so did web of shadows so did

1799
00:50:38,960 --> 00:50:39,680
asm ii

1800
00:50:39,680 --> 00:50:41,839
like those were all teams that had a lot

1801
00:50:41,839 --> 00:50:43,040
of really great ideas

1802
00:50:43,040 --> 00:50:44,720
that they executed in different ways and

1803
00:50:44,720 --> 00:50:46,800
so um we definitely took things from

1804
00:50:46,800 --> 00:50:48,480
them there was definitely that sense of

1805
00:50:48,480 --> 00:50:48,800
you know

1806
00:50:48,800 --> 00:50:49,839
the biggest thing we got through the

1807
00:50:49,839 --> 00:50:51,119
history of spider-man games was your

1808
00:50:51,119 --> 00:50:52,640
webs better darn well attached to

1809
00:50:52,640 --> 00:50:53,920
buildings

1810
00:50:53,920 --> 00:50:56,800
but when we took it from there we ended

1811
00:50:56,800 --> 00:50:58,000
up at the end of the day wanting to make

1812
00:50:58,000 --> 00:50:59,599
something that was also kind of our own

1813
00:50:59,599 --> 00:51:01,040
and i think we sort of hit that by

1814
00:51:01,040 --> 00:51:02,800
having a traversal system that layered a

1815
00:51:02,800 --> 00:51:04,640
lot of different moves together

1816
00:51:04,640 --> 00:51:05,920
to make you feel like you had a wider

1817
00:51:05,920 --> 00:51:08,800
palate thank you

1818
00:51:08,800 --> 00:51:11,920
um what were some of the challenges and

1819
00:51:11,920 --> 00:51:12,960
solutions you had

1820
00:51:12,960 --> 00:51:15,440
with um swing heavy combat situations

1821
00:51:15,440 --> 00:51:16,640
such as like the final

1822
00:51:16,640 --> 00:51:19,520
doc ock fight which was on a rooftop

1823
00:51:19,520 --> 00:51:19,920
yeah

1824
00:51:19,920 --> 00:51:21,920
so that created kind of a lot of weird

1825
00:51:21,920 --> 00:51:24,000
things and we actually had the ability

1826
00:51:24,000 --> 00:51:24,480
to

1827
00:51:24,480 --> 00:51:28,079
basically have a config data set

1828
00:51:28,079 --> 00:51:29,920
that kind of parameterized how swinging

1829
00:51:29,920 --> 00:51:31,760
worked and so one of the things we were

1830
00:51:31,760 --> 00:51:33,599
able to do was make a duplicate data set

1831
00:51:33,599 --> 00:51:35,440
that was entirely reparameterized for

1832
00:51:35,440 --> 00:51:36,720
different situations

1833
00:51:36,720 --> 00:51:39,200
so when we were inside gct inside grand

1834
00:51:39,200 --> 00:51:40,720
central or when we were in a combat

1835
00:51:40,720 --> 00:51:42,400
arena like a boss fight

1836
00:51:42,400 --> 00:51:43,760
we could sit there and basically just

1837
00:51:43,760 --> 00:51:45,280
change all the parameters for how

1838
00:51:45,280 --> 00:51:46,880
swinging worked in order to make it fit

1839
00:51:46,880 --> 00:51:48,079
that space a little bit better we didn't

1840
00:51:48,079 --> 00:51:49,440
want to deviate too far we needed to be

1841
00:51:49,440 --> 00:51:51,200
kind of make sense to the player

1842
00:51:51,200 --> 00:51:53,680
but it did let us make sure that we

1843
00:51:53,680 --> 00:51:55,040
weren't kind of overshooting things when

1844
00:51:55,040 --> 00:51:56,559
you weren't getting um

1845
00:51:56,559 --> 00:51:57,920
when you're outside it's these big huge

1846
00:51:57,920 --> 00:51:59,280
swings that give you a lot of height and

1847
00:51:59,280 --> 00:52:00,400
a lot of stuff like that if you're

1848
00:52:00,400 --> 00:52:01,839
inside or in a boss arena

1849
00:52:01,839 --> 00:52:02,880
that becomes a problem if you're

1850
00:52:02,880 --> 00:52:04,240
constantly getting yourself flung up in

1851
00:52:04,240 --> 00:52:05,359
the air with nothing to swing from and

1852
00:52:05,359 --> 00:52:07,359
just have to free fall for a while so

1853
00:52:07,359 --> 00:52:09,280
um that re-parameterization really

1854
00:52:09,280 --> 00:52:10,480
helped us to make things

1855
00:52:10,480 --> 00:52:12,000
fit whatever situation we were dealing

1856
00:52:12,000 --> 00:52:15,119
with thank you

1857
00:52:15,280 --> 00:52:17,680
hi uh thanks for the talk really really

1858
00:52:17,680 --> 00:52:18,400
excellent

1859
00:52:18,400 --> 00:52:22,400
um so i have a question about

1860
00:52:22,400 --> 00:52:24,720
uh what you said earlier where you would

1861
00:52:24,720 --> 00:52:27,119
do animation blending to correct the way

1862
00:52:27,119 --> 00:52:28,720
spider-man was facing

1863
00:52:28,720 --> 00:52:31,280
during uh swing but with all of his cool

1864
00:52:31,280 --> 00:52:32,559
poses and so on

1865
00:52:32,559 --> 00:52:35,599
how did you prevent that blend from

1866
00:52:35,599 --> 00:52:36,559
creating like

1867
00:52:36,559 --> 00:52:39,359
strange artifacts during the animation

1868
00:52:39,359 --> 00:52:40,079
uh i mean

1869
00:52:40,079 --> 00:52:42,079
i'll give a lot of credit there to our

1870
00:52:42,079 --> 00:52:43,920
animation team with uh elliot grossman

1871
00:52:43,920 --> 00:52:45,359
who did a lot of the animation work and

1872
00:52:45,359 --> 00:52:47,040
to our core engine

1873
00:52:47,040 --> 00:52:49,040
programmer for animation johnny garrett

1874
00:52:49,040 --> 00:52:50,960
they made a sweet animation system and a

1875
00:52:50,960 --> 00:52:52,319
bunch of sweet animations that did a

1876
00:52:52,319 --> 00:52:54,319
really cool stuff

1877
00:52:54,319 --> 00:52:56,480
for the most part the blending ended up

1878
00:52:56,480 --> 00:52:57,920
we just made sure to kind of control

1879
00:52:57,920 --> 00:52:59,280
where those things go

1880
00:52:59,280 --> 00:53:00,800
and we made sure to control when we use

1881
00:53:00,800 --> 00:53:02,079
them so that they didn't get too far

1882
00:53:02,079 --> 00:53:03,599
outside of what we needed

1883
00:53:03,599 --> 00:53:05,520
we also had the side effect that when

1884
00:53:05,520 --> 00:53:06,559
you're swinging you're kind of out in

1885
00:53:06,559 --> 00:53:07,599
the air so

1886
00:53:07,599 --> 00:53:08,800
unlike if you're on the ground or

1887
00:53:08,800 --> 00:53:09,920
somewhere where you have to really kind

1888
00:53:09,920 --> 00:53:13,040
of hand plant on things and touch things

1889
00:53:13,040 --> 00:53:14,319
if there was a little bit of drift from

1890
00:53:14,319 --> 00:53:15,440
those partials and stuff it didn't

1891
00:53:15,440 --> 00:53:16,559
really matter as much

1892
00:53:16,559 --> 00:53:18,640
for swinging and so it gave us a lot

1893
00:53:18,640 --> 00:53:19,839
more freedom to kind of play with that

1894
00:53:19,839 --> 00:53:20,880
stuff we just had to make sure that

1895
00:53:20,880 --> 00:53:22,319
visually you were lined up with the line

1896
00:53:22,319 --> 00:53:23,520
and it felt like those forces were

1897
00:53:23,520 --> 00:53:24,079
correct

1898
00:53:24,079 --> 00:53:26,400
and at that point we were good to go all

1899
00:53:26,400 --> 00:53:28,480
right thanks

1900
00:53:28,480 --> 00:53:30,480
hey um it seems like throughout

1901
00:53:30,480 --> 00:53:32,240
development you're changing like gravity

1902
00:53:32,240 --> 00:53:33,920
settings adding new mechanics that

1903
00:53:33,920 --> 00:53:35,359
spider-man can use

1904
00:53:35,359 --> 00:53:37,359
how did you like work alongside the

1905
00:53:37,359 --> 00:53:38,640
level design team like during this

1906
00:53:38,640 --> 00:53:40,000
process to make sure that

1907
00:53:40,000 --> 00:53:41,599
all their work isn't like thrown away as

1908
00:53:41,599 --> 00:53:43,119
soon as you change like a huge

1909
00:53:43,119 --> 00:53:44,960
fundamental setting or something

1910
00:53:44,960 --> 00:53:46,880
that was one of the biggest challenges

1911
00:53:46,880 --> 00:53:48,319
we had um

1912
00:53:48,319 --> 00:53:51,280
you know working on not necessarily a

1913
00:53:51,280 --> 00:53:51,839
new ip

1914
00:53:51,839 --> 00:53:54,480
new ip to us um we didn't really have

1915
00:53:54,480 --> 00:53:56,000
all the mechanics locked down

1916
00:53:56,000 --> 00:53:57,760
until part you know we were well into

1917
00:53:57,760 --> 00:53:58,960
production before things started to get

1918
00:53:58,960 --> 00:54:00,480
locked down which as you said creates

1919
00:54:00,480 --> 00:54:01,680
challenges for

1920
00:54:01,680 --> 00:54:04,720
the design team a lot of it came down to

1921
00:54:04,720 --> 00:54:07,680
the design mirror in our pod josue

1922
00:54:07,680 --> 00:54:09,280
basically did a lot of work of trying to

1923
00:54:09,280 --> 00:54:11,040
maintain things consistently he actually

1924
00:54:11,040 --> 00:54:13,520
built the metrics for the entire city

1925
00:54:13,520 --> 00:54:15,760
by himself and then it was done and then

1926
00:54:15,760 --> 00:54:17,200
we actually generated geometry after

1927
00:54:17,200 --> 00:54:18,480
that through houdini so

1928
00:54:18,480 --> 00:54:20,079
we got a lot of consistency in the open

1929
00:54:20,079 --> 00:54:21,520
world by just having that go through one

1930
00:54:21,520 --> 00:54:22,720
person

1931
00:54:22,720 --> 00:54:24,319
for interiors and stuff we just tried to

1932
00:54:24,319 --> 00:54:25,839
set up some metrics and

1933
00:54:25,839 --> 00:54:27,200
go from there i would say that kind of

1934
00:54:27,200 --> 00:54:28,559
swinging on interiors is something that

1935
00:54:28,559 --> 00:54:29,839
i think

1936
00:54:29,839 --> 00:54:31,440
we didn't make as good as we would have

1937
00:54:31,440 --> 00:54:32,880
liked because it was such a it was such

1938
00:54:32,880 --> 00:54:34,319
a big move and we didn't have the time

1939
00:54:34,319 --> 00:54:34,880
to

1940
00:54:34,880 --> 00:54:36,559
really focus on that but we were able to

1941
00:54:36,559 --> 00:54:38,400
use that reparameterization

1942
00:54:38,400 --> 00:54:39,760
to make it work for most of the spaces

1943
00:54:39,760 --> 00:54:43,280
that we needed it awesome

1944
00:54:43,440 --> 00:54:45,760
hi uh excellent talk thank you so much

1945
00:54:45,760 --> 00:54:47,280
great game definitely stealing all your

1946
00:54:47,280 --> 00:54:48,000
math

1947
00:54:48,000 --> 00:54:50,960
uh i noticed that uh in this talk about

1948
00:54:50,960 --> 00:54:52,079
traversal you didn't really talk about

1949
00:54:52,079 --> 00:54:53,359
the wall climbing at all

1950
00:54:53,359 --> 00:54:54,720
like walking around i'm assuming it

1951
00:54:54,720 --> 00:54:56,480
might have either been outside the scope

1952
00:54:56,480 --> 00:54:58,079
but this talk are not super relevant but

1953
00:54:58,079 --> 00:54:59,680
um that's a system that i've actually

1954
00:54:59,680 --> 00:55:01,520
messed around with uh for my own game

1955
00:55:01,520 --> 00:55:03,839
and i'm curious if it was ever supposed

1956
00:55:03,839 --> 00:55:04,880
to be a

1957
00:55:04,880 --> 00:55:06,400
sort of a bigger element of reversal

1958
00:55:06,400 --> 00:55:07,520
than it was and then you clamped it

1959
00:55:07,520 --> 00:55:09,280
because it was too complicated

1960
00:55:09,280 --> 00:55:11,760
or any edge cases like that um so wall

1961
00:55:11,760 --> 00:55:13,359
crawl was really you know it's really

1962
00:55:13,359 --> 00:55:14,640
identifiable with the character

1963
00:55:14,640 --> 00:55:18,000
but it has this um it has this problem

1964
00:55:18,000 --> 00:55:18,720
for games

1965
00:55:18,720 --> 00:55:21,200
which is when you do it you can only go

1966
00:55:21,200 --> 00:55:22,640
so fast or you look like a weird

1967
00:55:22,640 --> 00:55:24,160
salamander

1968
00:55:24,160 --> 00:55:27,760
um and usually when people are on a wall

1969
00:55:27,760 --> 00:55:28,079
they

1970
00:55:28,079 --> 00:55:30,960
want to interact out from the wall

1971
00:55:30,960 --> 00:55:32,160
there's nowhere to put your camera

1972
00:55:32,160 --> 00:55:34,079
except for inside of you or something

1973
00:55:34,079 --> 00:55:35,520
and so it creates a lot of these

1974
00:55:35,520 --> 00:55:37,200
gameplay problems our designers

1975
00:55:37,200 --> 00:55:38,640
in some ways had trouble figuring out

1976
00:55:38,640 --> 00:55:41,599
even how to use it um

1977
00:55:41,599 --> 00:55:43,520
our buildings had a lot of complexity to

1978
00:55:43,520 --> 00:55:45,920
their geometry that added a lot of

1979
00:55:45,920 --> 00:55:47,520
a lot of complexity to the wall crawl

1980
00:55:47,520 --> 00:55:49,680
stuff we actually had uh ross mckintosh

1981
00:55:49,680 --> 00:55:51,119
one of our programmers was working on it

1982
00:55:51,119 --> 00:55:51,920
for

1983
00:55:51,920 --> 00:55:54,240
um probably a couple years working on

1984
00:55:54,240 --> 00:55:55,760
some wall crawl stuff and

1985
00:55:55,760 --> 00:55:57,119
you know it's it's like it's a really

1986
00:55:57,119 --> 00:55:58,799
really complicated problem to deal with

1987
00:55:58,799 --> 00:56:00,240
all of that geometry

1988
00:56:00,240 --> 00:56:01,680
i noticed that you like hard clamped it

1989
00:56:01,680 --> 00:56:03,280
to go around corners of specific

1990
00:56:03,280 --> 00:56:04,559
animations so it didn't actually have to

1991
00:56:04,559 --> 00:56:06,160
deal with like artifacts and stuff yeah

1992
00:56:06,160 --> 00:56:07,920
so we tried to kind of scope down in

1993
00:56:07,920 --> 00:56:09,599
places where we could to make to

1994
00:56:09,599 --> 00:56:10,960
take some things that were really hard

1995
00:56:10,960 --> 00:56:13,119
problems and make them into um

1996
00:56:13,119 --> 00:56:15,359
a little bit simpler problems and so we

1997
00:56:15,359 --> 00:56:16,160
we did that

1998
00:56:16,160 --> 00:56:17,839
wherever we could with wall crawl we

1999
00:56:17,839 --> 00:56:19,040
tried we still wanted to make sure and

2000
00:56:19,040 --> 00:56:20,720
fulfill that kind of fantasy element

2001
00:56:20,720 --> 00:56:23,520
while having most of the game focused on

2002
00:56:23,520 --> 00:56:23,920
this

2003
00:56:23,920 --> 00:56:26,799
big fast speed traversal and so we just

2004
00:56:26,799 --> 00:56:27,520
chose to

2005
00:56:27,520 --> 00:56:29,440
have wall crawl be something that we you

2006
00:56:29,440 --> 00:56:31,280
know implemented as well as we could

2007
00:56:31,280 --> 00:56:34,000
but didn't try to over focus on makes

2008
00:56:34,000 --> 00:56:36,160
sense thank you so much

2009
00:56:36,160 --> 00:56:38,960
hey um amazing talk um totally loved it

2010
00:56:38,960 --> 00:56:39,760
uh we have

2011
00:56:39,760 --> 00:56:41,680
we tried to build a spider-man game as

2012
00:56:41,680 --> 00:56:42,960
one of our prototypes and we really

2013
00:56:42,960 --> 00:56:44,000
really failed to

2014
00:56:44,000 --> 00:56:46,720
do it um so one of the things i handed

2015
00:56:46,720 --> 00:56:48,400
out about was you mentioned that

2016
00:56:48,400 --> 00:56:50,319
we use used box volumes for collision

2017
00:56:50,319 --> 00:56:52,079
detections and that

2018
00:56:52,079 --> 00:56:54,240
so how did you decide which objects in

2019
00:56:54,240 --> 00:56:55,599
the scene you'd go to was it like

2020
00:56:55,599 --> 00:56:56,960
applied to everything that he could

2021
00:56:56,960 --> 00:56:59,520
attach to and if so how did you maintain

2022
00:56:59,520 --> 00:57:00,480
the performance

2023
00:57:00,480 --> 00:57:02,960
as to where you detect the collision

2024
00:57:02,960 --> 00:57:04,079
occurs does it happen

2025
00:57:04,079 --> 00:57:06,799
in a particular area and how so so is

2026
00:57:06,799 --> 00:57:07,200
sorry

2027
00:57:07,200 --> 00:57:08,880
uh was your question like how do we

2028
00:57:08,880 --> 00:57:10,559
decide where to place markup and where

2029
00:57:10,559 --> 00:57:11,359
not to

2030
00:57:11,359 --> 00:57:14,000
yeah uh so for the most part we wanted

2031
00:57:14,000 --> 00:57:16,400
to in the in the open world we marked up

2032
00:57:16,400 --> 00:57:18,480
everything uh we like i was saying we

2033
00:57:18,480 --> 00:57:20,240
used our procedurally generating

2034
00:57:20,240 --> 00:57:22,079
uh system houdini well it's not ours

2035
00:57:22,079 --> 00:57:23,760
it's middleware that we license but

2036
00:57:23,760 --> 00:57:25,359
um to place a lot of that stuff so it

2037
00:57:25,359 --> 00:57:26,799
was kind of everywhere

2038
00:57:26,799 --> 00:57:28,960
um for interiors and things we would

2039
00:57:28,960 --> 00:57:30,319
just decide if the space was in metric

2040
00:57:30,319 --> 00:57:31,040
and we would

2041
00:57:31,040 --> 00:57:32,400
place or not place things based on

2042
00:57:32,400 --> 00:57:34,079
whether it was in metric for that

2043
00:57:34,079 --> 00:57:35,680
um and other than that we would just

2044
00:57:35,680 --> 00:57:36,799
find other things that we wanted to

2045
00:57:36,799 --> 00:57:38,400
attach to like tree tops and stuff like

2046
00:57:38,400 --> 00:57:39,839
that and just place mark up there that's

2047
00:57:39,839 --> 00:57:41,760
where we could use our prefabs to say

2048
00:57:41,760 --> 00:57:43,119
okay this object is always going to come

2049
00:57:43,119 --> 00:57:45,040
bundled with this markup so every time

2050
00:57:45,040 --> 00:57:46,319
it gets out there it's populated with

2051
00:57:46,319 --> 00:57:47,440
that markup so

2052
00:57:47,440 --> 00:57:48,880
it really just came down to anything

2053
00:57:48,880 --> 00:57:50,720
that as much as possible anything that

2054
00:57:50,720 --> 00:57:52,000
looked like you should be able to swing

2055
00:57:52,000 --> 00:57:53,839
from it we tried to get markup on it um

2056
00:57:53,839 --> 00:57:55,359
do you have any performance issues in

2057
00:57:55,359 --> 00:57:56,880
trying to find out which place to attach

2058
00:57:56,880 --> 00:57:58,559
to or like whether anything you have to

2059
00:57:58,559 --> 00:57:59,119
optimize

2060
00:57:59,119 --> 00:58:01,040
uh we had a few things we went through a

2061
00:58:01,040 --> 00:58:02,559
number of iterations on

2062
00:58:02,559 --> 00:58:04,960
um on that we ended up getting better by

2063
00:58:04,960 --> 00:58:06,640
like i said like using kind of a sphere

2064
00:58:06,640 --> 00:58:08,480
database and some search query

2065
00:58:08,480 --> 00:58:10,400
um to kind of pack all the data in as

2066
00:58:10,400 --> 00:58:11,599
much as we could

2067
00:58:11,599 --> 00:58:13,599
um really helped us kind of speed things

2068
00:58:13,599 --> 00:58:14,960
up we ended up being able to move it off

2069
00:58:14,960 --> 00:58:15,839
onto a job on

2070
00:58:15,839 --> 00:58:17,119
kind of another thread so that it could

2071
00:58:17,119 --> 00:58:19,040
happen in the background and so it ended

2072
00:58:19,040 --> 00:58:20,400
up taking even in an area that was

2073
00:58:20,400 --> 00:58:22,160
highly dense it ended up taking

2074
00:58:22,160 --> 00:58:25,200
on the ps4 probably in a dense area

2075
00:58:25,200 --> 00:58:26,720
about two milliseconds to process and

2076
00:58:26,720 --> 00:58:28,160
chug through everything so it wasn't

2077
00:58:28,160 --> 00:58:29,760
necessarily cheap

2078
00:58:29,760 --> 00:58:31,200
but it didn't get it wasn't too

2079
00:58:31,200 --> 00:58:34,319
untractable either cool thank you

2080
00:58:34,319 --> 00:58:36,799
hi thank you for your impressive

2081
00:58:36,799 --> 00:58:37,359
sessions

2082
00:58:37,359 --> 00:58:42,079
so i'm making a swinging player game

2083
00:58:42,079 --> 00:58:46,400
and like a spiderman so if you

2084
00:58:46,400 --> 00:58:49,920
will make the real spiderman so what do

2085
00:58:49,920 --> 00:58:50,480
you

2086
00:58:50,480 --> 00:58:55,359
change spec war game design

2087
00:58:55,359 --> 00:58:56,799
what was your question sorry i didn't

2088
00:58:56,799 --> 00:58:59,119
sorry so so what do you

2089
00:58:59,119 --> 00:59:02,160
change for boyer game

2090
00:59:02,160 --> 00:59:05,280
like spiderman what do we kind of change

2091
00:59:05,280 --> 00:59:07,040
to make a game like spider-man

2092
00:59:07,040 --> 00:59:10,160
uh so go through the

2093
00:59:10,160 --> 00:59:13,599
town and uh swing

2094
00:59:13,599 --> 00:59:17,200
with rope so

2095
00:59:17,200 --> 00:59:18,319
so is it kind of how do we have to

2096
00:59:18,319 --> 00:59:20,160
change the city to make swinging work

2097
00:59:20,160 --> 00:59:21,040
yeah yeah you're right

2098
00:59:21,040 --> 00:59:23,520
gotcha okay so it's actually interesting

2099
00:59:23,520 --> 00:59:25,280
we had a lot of tests early on

2100
00:59:25,280 --> 00:59:27,839
talking about how um how wide the

2101
00:59:27,839 --> 00:59:28,880
streets needed to be

2102
00:59:28,880 --> 00:59:30,400
if you actually take full new york with

2103
00:59:30,400 --> 00:59:31,920
streets they're actually really terrible

2104
00:59:31,920 --> 00:59:33,040
for swinging because your line angles

2105
00:59:33,040 --> 00:59:35,040
end up being like too far to the side

2106
00:59:35,040 --> 00:59:36,559
so we did a lot of tests to figure out

2107
00:59:36,559 --> 00:59:37,920
what the right widths were for the

2108
00:59:37,920 --> 00:59:38,559
streets

2109
00:59:38,559 --> 00:59:40,400
a lot of metric tests early on and so we

2110
00:59:40,400 --> 00:59:41,920
had to kind of play around with all of

2111
00:59:41,920 --> 00:59:42,960
that really early

2112
00:59:42,960 --> 00:59:44,240
in order to find what the right

2113
00:59:44,240 --> 00:59:45,520
distances were before we kind of

2114
00:59:45,520 --> 00:59:47,760
populated the entire city with stuff so

2115
00:59:47,760 --> 00:59:49,839
it was kind of just progressing things a

2116
00:59:49,839 --> 00:59:50,799
little bit

2117
00:59:50,799 --> 00:59:52,559
a little bit at a time in lockstep as we

2118
00:59:52,559 --> 00:59:53,760
were kind of iterating on the design

2119
00:59:53,760 --> 00:59:55,520
side and on the world construction side

2120
00:59:55,520 --> 00:59:56,720
and iterating on the swing side to make

2121
00:59:56,720 --> 00:59:58,000
sure those two things kind of work

2122
00:59:58,000 --> 01:00:00,319
together in a really nice way

2123
01:00:00,319 --> 01:00:03,520
thank you cool

2124
01:00:03,520 --> 01:00:04,960
there's other questions all right i

2125
01:00:04,960 --> 01:00:11,040
think we're out of time thanks guys

